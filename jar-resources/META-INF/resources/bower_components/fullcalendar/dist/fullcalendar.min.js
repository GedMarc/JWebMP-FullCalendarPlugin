
/*!
 * FullCalendar v3.3.1
 * Docs & License: https://fullcalendar.io/
 * (c) 2017 Adam Shaw
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"),require("moment"))}else{a(jQuery,moment)}}})(function(bx,a8){var B=bx.fullCalendar={version:"3.3.1",internalApiVersion:9};var ae=B.views={};bx.fn.fullCalendar=function(bL){var bK=Array.prototype.slice.call(arguments,1);var bM=this;this.each(function(bP,bN){var bO=bx(bN);var bR=bO.data("fullCalendar");var bQ;if(typeof bL==="string"){if(bR&&bx.isFunction(bR[bL])){bQ=bR[bL].apply(bR,bK);if(!bP){bM=bQ}if(bL==="destroy"){bO.removeData("fullCalendar")}}}else{if(!bR){bR=new z(bO,bL);bO.data("fullCalendar",bR);bR.render()}}});return bM};var ah=["header","footer","buttonText","buttonIcons","themeButtonIcons"];function aV(bK){return bG(bK,ah)}B.intersectRanges=g;B.applyAll=C;B.debounce=bd;B.isInt=bB;B.htmlEscape=aM;B.cssToStr=O;B.proxy=aH;B.capitaliseFirstLetter=r;function aw(bL,bK){if(bK.left){bL.css({"border-left-width":1,"margin-left":bK.left-1})}if(bK.right){bL.css({"border-right-width":1,"margin-right":bK.right-1})}}function L(bK){bK.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function by(){bx("body").addClass("fc-not-allowed")}function au(){bx("body").removeClass("fc-not-allowed")}function af(bP,bO,bL){var bM=Math.floor(bO/bP.length);var bK=Math.floor(bO-bM*(bP.length-1));var bQ=[];var bR=[];var bN=[];var bS=0;o(bP);bP.each(function(bU,bV){var bW=bU===bP.length-1?bK:bM;var bT=bx(bV).outerHeight(true);if(bT<bW){bQ.push(bV);bR.push(bT);bN.push(bx(bV).height())}else{bS+=bT}});if(bL){bO-=bS;bM=Math.floor(bO/bQ.length);bK=Math.floor(bO-bM*(bQ.length-1))}bx(bQ).each(function(bV,bW){var bY=bV===bQ.length-1?bK:bM;var bU=bR[bV];var bX=bN[bV];var bT=bY-(bU-bX);if(bU<bY){bx(bW).height(bT)}})}function o(bK){bK.height("")}function Y(bK){var bL=0;bK.find("> *").each(function(bN,bO){var bM=bx(bO).outerWidth();if(bM>bL){bL=bM}});bL++;bK.width(bL);return bL}function t(bK,bN){var bL=bK.add(bN);var bM;bL.css({position:"relative",left:-1});bM=bK.outerHeight()-bN.outerHeight();bL.css({position:"",left:""});return bM}B.getOuterRect=ar;B.getClientRect=F;B.getContentRect=an;B.getScrollbarWidths=a;function bp(bL){var bK=bL.css("position"),bM=bL.parents().filter(function(){var bN=bx(this);return(/(auto|scroll)/).test(bN.css("overflow")+bN.css("overflow-y")+bN.css("overflow-x"))}).eq(0);return bK==="fixed"||!bM.length?bx(bL[0].ownerDocument||document):bM}function ar(bL,bK){var bO=bL.offset();var bN=bO.left-(bK?bK.left:0);var bM=bO.top-(bK?bK.top:0);return{left:bN,right:bN+bL.outerWidth(),top:bM,bottom:bM+bL.outerHeight()}}function F(bM,bK){var bP=bM.offset();var bL=a(bM);var bO=bP.left+bE(bM,"border-left-width")+bL.left-(bK?bK.left:0);var bN=bP.top+bE(bM,"border-top-width")+bL.top-(bK?bK.top:0);return{left:bO,right:bO+bM[0].clientWidth,top:bN,bottom:bN+bM[0].clientHeight}}function an(bL,bK){var bO=bL.offset();var bN=bO.left+bE(bL,"border-left-width")+bE(bL,"padding-left")-(bK?bK.left:0);var bM=bO.top+bE(bL,"border-top-width")+bE(bL,"padding-top")-(bK?bK.top:0);return{left:bN,right:bN+bL.width(),top:bM,bottom:bM+bL.height()}}function a(bL){var bN=bL[0].offsetWidth-bL[0].clientWidth;var bK=bL[0].offsetHeight-bL[0].clientHeight;var bM;bN=u(bN);bK=u(bK);bM={left:0,right:0,top:0,bottom:bK};if(bo()&&bL.css("direction")=="rtl"){bM.left=bN}else{bM.right=bN}return bM}function u(bK){bK=Math.max(0,bK);bK=Math.round(bK);return bK}var I=null;function bo(){if(I===null){I=aC()}return I}function aC(){var bL=bx("<div><div/></div>").css({position:"absolute",top:-1000,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body");var bM=bL.children();var bK=bM.offset().left>bL.offset().left;bL.remove();return bK}function bE(bK,bL){return parseFloat(bK.css(bL))||0}B.preventDefault=bD;function bF(bK){return bK.which==1&&!bK.ctrlKey}function V(bK){var bL=bK.originalEvent.touches;if(bL&&bL.length){return bL[0].pageX}return bK.pageX}function U(bK){var bL=bK.originalEvent.touches;if(bL&&bL.length){return bL[0].pageY}return bK.pageY}function aS(bK){return/^touch/.test(bK.type)}function E(bK){bK.addClass("fc-unselectable").on("selectstart",bD)}function aa(bK){bK.removeClass("fc-unselectable").off("selectstart",bD)}function bD(bK){bK.preventDefault()}B.intersectRects=c;function c(bL,bK){var bM={left:Math.max(bL.left,bK.left),right:Math.min(bL.right,bK.right),top:Math.max(bL.top,bK.top),bottom:Math.min(bL.bottom,bK.bottom)};if(bM.left<bM.right&&bM.top<bM.bottom){return bM}return false}function aJ(bK,bL){return{left:Math.min(Math.max(bK.left,bL.left),bL.right),top:Math.min(Math.max(bK.top,bL.top),bL.bottom)}}function aY(bK){return{left:(bK.left+bK.right)/2,top:(bK.top+bK.bottom)/2}}function bw(bL,bK){return{left:bL.left-bK.left,top:bL.top-bK.top}}B.parseFieldSpecs=aG;B.compareByFieldSpecs=bf;B.compareByFieldSpec=D;B.flexibleCompare=P;function aG(bK){var bO=[];var bN=[];var bM,bL;if(typeof bK==="string"){bN=bK.split(/\s*,\s*/)}else{if(typeof bK==="function"){bN=[bK]}else{if(bx.isArray(bK)){bN=bK}}}for(bM=0;bM<bN.length;bM++){bL=bN[bM];if(typeof bL==="string"){bO.push(bL.charAt(0)=="-"?{field:bL.substring(1),order:-1}:{field:bL,order:1})}else{if(typeof bL==="function"){bO.push({func:bL})}}}return bO}function bf(bN,bM,bO){var bK;var bL;for(bK=0;bK<bO.length;bK++){bL=D(bN,bM,bO[bK]);if(bL){return bL}}return 0}function D(bM,bK,bL){if(bL.func){return bL.func(bM,bK)}return P(bM[bL.field],bK[bL.field])*(bL.order||1)}function P(bL,bK){if(!bL&&!bK){return 0}if(bK==null){return -1}if(bL==null){return 1}if(bx.type(bL)==="string"||bx.type(bK)==="string"){return String(bL).localeCompare(String(bK))}return bL-bK}function g(bS,bL){var bO=bS.start;var bM=bS.end;var bR=bL.start;var bP=bL.end;var bQ,bT;var bK,bN;if(bM>bR&&bO<bP){if(bO>=bR){bQ=bO.clone();bK=true}else{bQ=bR.clone();bK=false}if(bM<=bP){bT=bM.clone();bN=true}else{bT=bP.clone();bN=false}return{start:bQ,end:bT,isStart:bK,isEnd:bN}}}B.computeGreatestUnit=aE;B.divideRangeByDuration=q;B.divideDurationByDuration=H;B.multiplyDuration=av;B.durationHasTime=ai;var aR=["sun","mon","tue","wed","thu","fri","sat"];var n=["year","month","week","day","hour","minute","second","millisecond"];function h(bL,bK){return a8.duration({days:bL.clone().stripTime().diff(bK.clone().stripTime(),"days"),ms:bL.time()-bK.time()})}function ak(bL,bK){return a8.duration({days:bL.clone().stripTime().diff(bK.clone().stripTime(),"days")})}function e(bL,bK,bM){return a8.duration(Math.round(bL.diff(bK,bM,true)),bM)}function aE(bO,bK){var bL,bM;var bN;for(bL=0;bL<n.length;bL++){bM=n[bL];bN=ax(bM,bO,bK);if(bN>=1&&bB(bN)){break}}return bM}function f(bM,bK){var bL=aE(bM);if(bL==="week"&&typeof bK==="object"&&bK.days){bL="day"}return bL}function ax(bL,bM,bK){if(bK!=null){return bK.diff(bM,bL,true)}else{if(a8.isDuration(bM)){return bM.as(bL)}else{return bM.end.diff(bM.start,bL,true)}}}function q(bN,bL,bM){var bK;if(ai(bM)){return(bL-bN)/bM}bK=bM.asMonths();if(Math.abs(bK)>=1&&bB(bK)){return bL.diff(bN,"months",true)/bK}return bL.diff(bN,"days",true)/bM.asDays()}function H(bM,bL){var bK,bN;if(ai(bM)||ai(bL)){return bM/bL}bK=bM.asMonths();bN=bL.asMonths();if(Math.abs(bK)>=1&&bB(bK)&&Math.abs(bN)>=1&&bB(bN)){return bK/bN}return bM.asDays()/bL.asDays()}function av(bL,bM){var bK;if(ai(bL)){return a8.duration(bL*bM)}bK=bL.asMonths();if(Math.abs(bK)>=1&&bB(bK)){return a8.duration({months:bK*bM})}return a8.duration({days:bL.asDays()*bM})}function W(bK){return{start:bK.start.clone(),end:bK.end.clone()}}function k(bL,bK){bL=W(bL);if(bK.start){bL.start=a7(bL.start,bK)}if(bK.end){bL.end=v(bL.end,bK.end)}return bL}function a7(bL,bK){bL=bL.clone();if(bK.start){bL=aD(bL,bK.start)}if(bK.end&&bL>=bK.end){bL=bK.end.clone().subtract(1)}return bL}function w(bL,bK){return(!bK.start||bL>=bK.start)&&(!bK.end||bL<bK.end)}function br(bK,bL){return(!bL.start||bK.end>=bL.start)&&(!bL.end||bK.start<bL.end)}function aP(bL,bK){return(!bK.start||bL.start>=bK.start)&&(!bK.end||bL.end<=bK.end)}function j(bL,bK){return((bL.start&&bK.start&&bL.start.isSame(bK.start))||(!bL.start&&!bK.start))&&((bL.end&&bK.end&&bL.end.isSame(bK.end))||(!bL.end&&!bK.end))}function v(bL,bK){return(bL.isBefore(bK)?bL:bK).clone()}function aD(bL,bK){return(bL.isAfter(bK)?bL:bK).clone()}function ai(bK){return Boolean(bK.hours()||bK.minutes()||bK.seconds()||bK.milliseconds())}function l(bK){return Object.prototype.toString.call(bK)==="[object Date]"||bK instanceof Date}function aj(bK){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(bK)}B.log=function(){var bK=window.console;if(bK&&bK.log){return bK.log.apply(bK,arguments)}};B.warn=function(){var bK=window.console;if(bK&&bK.warn){return bK.warn.apply(bK,arguments)}else{return B.log.apply(B,arguments)}};var aO={}.hasOwnProperty;function bG(bS,bO){var bR={};var bN,bK;var bQ;var bM,bL;var bP;if(bO){for(bN=0;bN<bO.length;bN++){bK=bO[bN];bQ=[];for(bM=bS.length-1;bM>=0;bM--){bL=bS[bM][bK];if(typeof bL==="object"){bQ.unshift(bL)}else{if(bL!==undefined){bR[bK]=bL;break}}}if(bQ.length){bR[bK]=bG(bQ)}}}for(bN=bS.length-1;bN>=0;bN--){bP=bS[bN];for(bK in bP){if(!(bK in bR)){bR[bK]=bP[bK]}}}return bR}function Z(bK){var bL=function(){};bL.prototype=bK;return new bL()}B.createObject=Z;function y(bM,bL){for(var bK in bM){if(al(bM,bK)){bL[bK]=bM[bK]}}}function al(bL,bK){return aO.call(bL,bK)}function bq(bK){return/undefined|null|boolean|number|string/.test(bx.type(bK))}function C(bN,bO,bL){if(bx.isFunction(bN)){bN=[bN]}if(bN){var bM;var bK;for(bM=0;bM<bN.length;bM++){bK=bN[bM].apply(bO,bL)||bK}return bK}}function ab(){for(var bK=0;bK<arguments.length;bK++){if(arguments[bK]!==undefined){return arguments[bK]}}}function aM(bK){return(bK+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aK(bK){return bK.replace(/&.*?;/g,"")}function O(bL){var bK=[];bx.each(bL,function(bM,bN){if(bN!=null){bK.push(bM+":"+bN)}});return bK.join(";")}function a9(bK){var bL=[];bx.each(bK,function(bM,bN){if(bN!=null){bL.push(bM+'="'+aM(bN)+'"')}});return bL.join(" ")}function r(bK){return bK.charAt(0).toUpperCase()+bK.slice(1)}function ad(bL,bK){return bL-bK}function bB(bK){return bK%1===0}function aH(bL,bK){var bM=bL[bK];return function(){return bM.apply(bL,arguments)}}function bd(bM,bO,bL){var bR,bQ,bK,bP,bS;var bN=function(){var bT=+new Date()-bP;if(bT<bO){bR=setTimeout(bN,bO-bT)}else{bR=null;if(!bL){bS=bM.apply(bK,bQ);bK=bQ=null}}};return function(){bK=this;bQ=arguments;bP=+new Date();var bT=bL&&!bR;if(!bR){bR=setTimeout(bN,bO)}if(bT){bS=bM.apply(bK,bQ);bK=bQ=null}return bS}}var bI=/^\s*\d{4}-\d\d$/;var aB=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;var at=a8.fn;var aF=bx.extend({},at);var Q=a8.momentProperties;Q.push("_fullCalendar");Q.push("_ambigTime");Q.push("_ambigZone");B.moment=function(){return bj(arguments)};B.moment.utc=function(){var bK=bj(arguments,true);if(bK.hasTime()){bK.utc()}return bK};B.moment.parseZone=function(){return bj(arguments,true,true)};function bj(bQ,bP,bO){var bS=bQ[0];var bN=bQ.length==1&&typeof bS==="string";var bM;var bR;var bK;var bL;if(a8.isMoment(bS)||l(bS)||bS===undefined){bL=a8.apply(null,bQ)}else{bM=false;bR=false;if(bN){if(bI.test(bS)){bS+="-01";bQ=[bS];bM=true;bR=true}else{if((bK=aB.exec(bS))){bM=!bK[5];bR=true}}}else{if(bx.isArray(bS)){bR=true}}if(bP||bM){bL=a8.utc.apply(a8,bQ)}else{bL=a8.apply(null,bQ)}if(bM){bL._ambigTime=true;bL._ambigZone=true}else{if(bO){if(bR){bL._ambigZone=true}else{if(bN){bL.utcOffset(bS)}}}}}bL._fullCalendar=true;return bL}at.week=at.weeks=function(bL){var bK=this._locale._fullCalendar_weekCalc;if(bL==null&&typeof bK==="function"){return bK(this)}else{if(bK==="ISO"){return aF.isoWeek.apply(this,arguments)}}return aF.week.apply(this,arguments)};at.time=function(bL){if(!this._fullCalendar){return aF.time.apply(this,arguments)}if(bL==null){return a8.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{this._ambigTime=false;if(!a8.isDuration(bL)&&!a8.isMoment(bL)){bL=a8.duration(bL)}var bK=0;if(a8.isDuration(bL)){bK=Math.floor(bL.asDays())*24}return this.hours(bK+bL.hours()).minutes(bL.minutes()).seconds(bL.seconds()).milliseconds(bL.milliseconds())}};at.stripTime=function(){if(!this._ambigTime){this.utc(true);this.set({hours:0,minutes:0,seconds:0,ms:0});this._ambigTime=true;this._ambigZone=true}return this};at.hasTime=function(){return !this._ambigTime};at.stripZone=function(){var bK;if(!this._ambigZone){bK=this._ambigTime;this.utc(true);this._ambigTime=bK||false;this._ambigZone=true}return this};at.hasZone=function(){return !this._ambigZone};at.local=function(bK){aF.local.call(this,this._ambigZone||bK);this._ambigTime=false;this._ambigZone=false;return this};at.utc=function(bK){aF.utc.call(this,bK);this._ambigTime=false;this._ambigZone=false;return this};at.utcOffset=function(bK){if(bK!=null){this._ambigTime=false;this._ambigZone=false}return aF.utcOffset.apply(this,arguments)};at.format=function(){if(this._fullCalendar&&arguments[0]){return p(this,arguments[0])}if(this._ambigTime){return am(this,"YYYY-MM-DD")}if(this._ambigZone){return am(this,"YYYY-MM-DD[T]HH:mm:ss")}return aF.format.apply(this,arguments)};at.toISOString=function(){if(this._ambigTime){return am(this,"YYYY-MM-DD")}if(this._ambigZone){return am(this,"YYYY-MM-DD[T]HH:mm:ss")}return aF.toISOString.apply(this,arguments)};(function(){B.formatDate=bT;B.formatRange=bN;B.oldMomentFormat=bS;B.queryMostGranularFormatUnit=bR;var b3="\u000b";var bU="\u001f";var bV="\u001e";var bP=new RegExp(bV+"([^"+bV+"]*)"+bV,"g");var bM={t:function(b5){return bS(b5,"a").charAt(0)},T:function(b5){return bS(b5,"A").charAt(0)}};var b0={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};function bT(b6,b5){return bX(b1(b5).fakeFormatString,b6)}function bS(b6,b5){return aF.format.call(b6,b5)}function bN(ca,b8,b5,b9,b6){var b7;ca=B.moment.parseZone(ca);b8=B.moment.parseZone(b8);b7=ca.localeData();b5=b7.longDateFormat(b5)||b5;return bQ(b1(b5),ca,b8,b9||" - ",b6)}function bQ(b7,cj,ci,b9,cc){var cf=b7.sameUnits;var cg=cj.clone().stripZone();var ce=ci.clone().stripZone();var cb=bK(b7.fakeFormatString,cj);var ca=bK(b7.fakeFormatString,ci);var b5;var b6="";var ch;var b8="";var cd;var cm="";var cl="";var ck="";for(b5=0;b5<cf.length&&(!cf[b5]||cg.isSame(ce,cf[b5]));b5++){b6+=cb[b5]}for(ch=cf.length-1;ch>b5&&(!cf[ch]||cg.isSame(ce,cf[ch]));ch--){if(ch-1===b5&&cb[ch]==="."){break}b8=cb[ch]+b8}for(cd=b5;cd<=ch;cd++){cm+=cb[cd];cl+=ca[cd]}if(cm||cl){if(cc){ck=cl+b9+cm}else{ck=cm+b9+cl}}return bO(b6+ck+b8)}var bL={};function b1(b5){return bL[b5]||(bL[b5]=b4(b5))}function b4(b5){var b6=bY(b5);return{fakeFormatString:bW(b6),sameUnits:bZ(b6)}}function bY(b6){var b8=[];var b7;var b5=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;while((b7=b5.exec(b6))){if(b7[1]){b8.push.apply(b8,b2(b7[1]))}else{if(b7[2]){b8.push({maybe:bY(b7[2])})}else{if(b7[3]){b8.push({token:b7[3]})}else{if(b7[5]){b8.push.apply(b8,b2(b7[5]))}}}}}return b8}function b2(b5){if(b5===". "){return["."," "]}else{return[b5]}}function bW(b8){var b7=[];var b6,b5;for(b6=0;b6<b8.length;b6++){b5=b8[b6];if(typeof b5==="string"){b7.push("["+b5+"]")}else{if(b5.token){if(b5.token in bM){b7.push(bU+"["+b5.token+"]")}else{b7.push(b5.token)}}else{if(b5.maybe){b7.push(bV+bW(b5.maybe)+bV)}}}}return b7.join(b3)}function bZ(b9){var b6=[];var b8,b7;var b5;for(b8=0;b8<b9.length;b8++){b7=b9[b8];if(b7.token){b5=b0[b7.token.charAt(0)];b6.push(b5?b5.unit:"second")}else{if(b7.maybe){b6.push.apply(b6,bZ(b7.maybe))}else{b6.push(null)}}}return b6}function bX(b6,b5){return bO(bK(b6,b5).join(""))}function bK(cb,b8){var ca=[];var b7=bS(b8,cb);var b6=b7.split(b3);var b9,b5;for(b9=0;b9<b6.length;b9++){b5=b6[b9];if(b5.charAt(0)===bU){ca.push(bM[b5.substring(1)](b8))}else{ca.push(b5)}}return ca}function bO(b5){return b5.replace(bP,function(b7,b6){if(b6.match(/[1-9]/)){return b6}else{return""}})}function bR(b5){var ca=bY(b5);var b7,b6;var b8;var b9;for(b7=0;b7<ca.length;b7++){b6=ca[b7];if(b6.token){b8=b0[b6.token.charAt(0)];if(b8){if(!b9||b8.value>b9.value){b9=b8}}}}if(b9){return b9.unit}return null}})();var p=B.formatDate;var bm=B.formatRange;var am=B.oldMomentFormat;B.Class=ay;function ay(){}ay.extend=function(){var bK=arguments.length;var bM;var bL;for(bM=0;bM<bK;bM++){bL=arguments[bM];if(bM<bK-1){aX(this,bL)}}return a0(this,bL||{})};ay.mixin=function(bK){aX(this,bK)};function a0(bL,bK){var bM;if(al(bK,"constructor")){bM=bK.constructor}if(typeof bM!=="function"){bM=bK.constructor=function(){bL.apply(this,arguments)}}bM.prototype=Z(bL.prototype);y(bK,bM.prototype);y(bL,bM);return bM}function aX(bL,bK){y(bK,bL.prototype)}function bt(bN){var bK=bx.Deferred();var bM=bK.promise();if(typeof bN==="function"){bN(function(bO){if(bt.immediate){bM._value=bO}bK.resolve(bO)},function(){bK.reject()})}if(bt.immediate){var bL=bM.then;bM.then=function(bQ,bO){var bP=bM.state();if(bP==="resolved"){if(typeof bQ==="function"){return bt.resolve(bQ(bM._value))}}else{if(bP==="rejected"){if(typeof bO==="function"){bO();return bM}}}return bL.call(bM,bQ,bO)}}return bM}B.Promise=bt;bt.immediate=true;bt.resolve=function(bL){if(bL&&typeof bL.resolve==="function"){return bL.promise()}if(bL&&typeof bL.then==="function"){return bL}else{var bK=bx.Deferred().resolve(bL);var bN=bK.promise();if(bt.immediate){var bM=bN.then;bN._value=bL;bN.then=function(bP,bO){if(typeof bP==="function"){return bt.resolve(bP(bL))}return bM.call(bN,bP,bO)}}return bN}};bt.reject=function(){return bx.Deferred().reject().promise()};bt.all=function(bK){var bO=false;var bM;var bN,bL;if(bt.immediate){bO=true;bM=[];for(bN=0;bN<bK.length;bN++){bL=bK[bN];if(bL&&typeof bL.state==="function"&&bL.state()==="resolved"&&("_value" in bL)){bM.push(bL._value)}else{if(bL&&typeof bL.then==="function"){bO=false;break}else{bM.push(bL)}}}}if(bO){return bt.resolve(bM)}else{return bx.when.apply(bx.when,bK).then(function(){return bx.when(bx.makeArray(arguments))})}};function bl(bK){var bM=[];function bL(bN){return new bt(function(bP){var bO=function(){bt.resolve(bN()).then(bP).then(function(){bM.shift();if(bM.length){bM[0]()}})};bM.push(bO);if(bM.length===1){bO()}})}this.add=typeof bK==="number"?bd(bL,bK):bL;this.addQuickly=bL}B.TaskQueue=bl;var A=B.EmitterMixin={on:function(bK,bL){bx(this).on(bK,this._prepareIntercept(bL));return this},one:function(bK,bL){bx(this).one(bK,this._prepareIntercept(bL));return this},_prepareIntercept:function(bK){var bL=function(bN,bM){return bK.apply(bM.context||this,bM.args||[])};if(!bK.guid){bK.guid=bx.guid++}bL.guid=bK.guid;return bL},off:function(bK,bL){bx(this).off(bK,bL);return this},trigger:function(bL){var bK=Array.prototype.slice.call(arguments,1);bx(this).triggerHandler(bL,{args:bK});return this},triggerWith:function(bM,bL,bK){bx(this).triggerHandler(bM,{context:bL,args:bK});return this}};var aq=B.ListenerMixin=(function(){var bK=0;var bL={listenerId:null,listenTo:function(bN,bM,bP){if(typeof bM==="object"){for(var bO in bM){if(bM.hasOwnProperty(bO)){this.listenTo(bN,bO,bM[bO])}}}else{if(typeof bM==="string"){bN.on(bM+"."+this.getListenerNamespace(),bx.proxy(bP,this))}}},stopListeningTo:function(bM,bN){bM.off((bN||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){if(this.listenerId==null){this.listenerId=bK++}return"_listener"+this.listenerId}};return bL})();var a1=ay.extend(aq,{isHidden:true,options:null,el:null,margin:10,constructor:function(bK){this.options=bK||{}},show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var bL=this;var bK=this.options;this.el=bx('<div class="fc-popover"/>').addClass(bK.className||"").css({top:0,left:0}).append(bK.content).appendTo(bK.parentEl);this.el.on("click",".fc-close",function(){bL.hide()});if(bK.autoHide){this.listenTo(bx(document),"mousedown",this.documentMousedown)}},documentMousedown:function(bK){if(this.el&&!bx(bK.target).closest(this.el).length){this.hide()}},removeElement:function(){this.hide();if(this.el){this.el.remove();this.el=null}this.stopListeningTo(bx(document),"mousedown")},position:function(){var bU=this.options;var bQ=this.el.offsetParent().offset();var bK=this.el.outerWidth();var bS=this.el.outerHeight();var bR=bx(window);var bP=bp(this.el);var bL;var bN;var bT;var bO;var bM;bO=bU.top||0;if(bU.left!==undefined){bM=bU.left}else{if(bU.right!==undefined){bM=bU.right-bK}else{bM=0}}if(bP.is(window)||bP.is(document)){bP=bR;bL=0;bN=0}else{bT=bP.offset();bL=bT.top;bN=bT.left}bL+=bR.scrollTop();bN+=bR.scrollLeft();if(bU.viewportConstrain!==false){bO=Math.min(bO,bL+bP.outerHeight()-bS-this.margin);bO=Math.max(bO,bL+this.margin);bM=Math.min(bM,bN+bP.outerWidth()-bK-this.margin);bM=Math.max(bM,bN+this.margin)}this.el.css({top:bO-bQ.top,left:bM-bQ.left})},trigger:function(bK){if(this.options[bK]){this.options[bK].apply(this,Array.prototype.slice.call(arguments,1))}}});var ao=B.CoordCache=ay.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:false,isVertical:false,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(bK){this.els=bx(bK.els);this.isHorizontal=bK.isHorizontal;this.isVertical=bK.isVertical;this.forcedOffsetParentEl=bK.offsetParent?bx(bK.offsetParent):null},build:function(){var bK=this.forcedOffsetParentEl;if(!bK&&this.els.length>0){bK=this.els.eq(0).offsetParent()}this.origin=bK?bK.offset():null;this.boundingRect=this.queryBoundingRect();if(this.isHorizontal){this.buildElHorizontals()}if(this.isVertical){this.buildElVerticals()}},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){if(!this.origin){this.build()}},buildElHorizontals:function(){var bL=[];var bK=[];this.els.each(function(bM,bP){var bO=bx(bP);var bQ=bO.offset().left;var bN=bO.outerWidth();bL.push(bQ);bK.push(bQ+bN)});this.lefts=bL;this.rights=bK},buildElVerticals:function(){var bK=[];var bL=[];this.els.each(function(bN,bP){var bO=bx(bP);var bQ=bO.offset().top;var bM=bO.outerHeight();bK.push(bQ);bL.push(bQ+bM)});this.tops=bK;this.bottoms=bL},getHorizontalIndex:function(bM){this.ensureBuilt();var bO=this.lefts;var bN=this.rights;var bK=bO.length;var bL;for(bL=0;bL<bK;bL++){if(bM>=bO[bL]&&bM<bN[bL]){return bL}}},getVerticalIndex:function(bM){this.ensureBuilt();var bN=this.tops;var bO=this.bottoms;var bK=bN.length;var bL;for(bL=0;bL<bK;bL++){if(bM>=bN[bL]&&bM<bO[bL]){return bL}}},getLeftOffset:function(bK){this.ensureBuilt();return this.lefts[bK]},getLeftPosition:function(bK){this.ensureBuilt();return this.lefts[bK]-this.origin.left},getRightOffset:function(bK){this.ensureBuilt();return this.rights[bK]},getRightPosition:function(bK){this.ensureBuilt();return this.rights[bK]-this.origin.left},getWidth:function(bK){this.ensureBuilt();return this.rights[bK]-this.lefts[bK]},getTopOffset:function(bK){this.ensureBuilt();return this.tops[bK]},getTopPosition:function(bK){this.ensureBuilt();return this.tops[bK]-this.origin.top},getBottomOffset:function(bK){this.ensureBuilt();return this.bottoms[bK]},getBottomPosition:function(bK){this.ensureBuilt();return this.bottoms[bK]-this.origin.top},getHeight:function(bK){this.ensureBuilt();return this.bottoms[bK]-this.tops[bK]},queryBoundingRect:function(){var bK;if(this.els.length>0){bK=bp(this.els.eq(0));if(!bK.is(document)){return F(bK)}}return null},isPointInBounds:function(bL,bK){return this.isLeftInBounds(bL)&&this.isTopInBounds(bK)},isLeftInBounds:function(bK){return !this.boundingRect||(bK>=this.boundingRect.left&&bK<this.boundingRect.right)},isTopInBounds:function(bK){return !this.boundingRect||(bK>=this.boundingRect.top&&bK<this.boundingRect.bottom)}});var bk=B.DragListener=ay.extend(aq,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:false,isDistanceSurpassed:false,isDelayEnded:false,isDragging:false,isTouch:false,isGeneric:false,delay:null,delayTimeoutId:null,minDistance:null,shouldCancelTouchScroll:true,scrollAlwaysKills:false,constructor:function(bK){this.options=bK||{}},startInteraction:function(bL,bK){if(bL.type==="mousedown"){if(ap.get().shouldIgnoreMouse()){return}else{if(!bF(bL)){return}else{bL.preventDefault()}}}if(!this.isInteracting){bK=bK||{};this.delay=ab(bK.delay,this.options.delay,0);this.minDistance=ab(bK.distance,this.options.distance,0);this.subjectEl=this.options.subjectEl;E(bx("body"));this.isInteracting=true;this.isTouch=aS(bL);this.isGeneric=bL.type==="dragstart";this.isDelayEnded=false;this.isDistanceSurpassed=false;this.originX=V(bL);this.originY=U(bL);this.scrollEl=bp(bx(bL.target));this.bindHandlers();this.initAutoScroll();this.handleInteractionStart(bL);this.startDelay(bL);if(!this.minDistance){this.handleDistanceSurpassed(bL)}}},handleInteractionStart:function(bK){this.trigger("interactionStart",bK)},endInteraction:function(bK,bL){if(this.isInteracting){this.endDrag(bK);if(this.delayTimeoutId){clearTimeout(this.delayTimeoutId);this.delayTimeoutId=null}this.destroyAutoScroll();this.unbindHandlers();this.isInteracting=false;this.handleInteractionEnd(bK,bL);aa(bx("body"))}},handleInteractionEnd:function(bK,bL){this.trigger("interactionEnd",bK,bL||false)},bindHandlers:function(){var bK=ap.get();if(this.isGeneric){this.listenTo(bx(document),{drag:this.handleMove,dragstop:this.endInteraction})}else{if(this.isTouch){this.listenTo(bK,{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll})}else{this.listenTo(bK,{mousemove:this.handleMouseMove,mouseup:this.endInteraction})}}this.listenTo(bK,{selectstart:bD,contextmenu:bD})},unbindHandlers:function(){this.stopListeningTo(ap.get());this.stopListeningTo(bx(document))},startDrag:function(bL,bK){this.startInteraction(bL,bK);if(!this.isDragging){this.isDragging=true;this.handleDragStart(bL)}},handleDragStart:function(bK){this.trigger("dragStart",bK)},handleMove:function(bN){var bM=V(bN)-this.originX;var bK=U(bN)-this.originY;var bO=this.minDistance;var bL;if(!this.isDistanceSurpassed){bL=bM*bM+bK*bK;if(bL>=bO*bO){this.handleDistanceSurpassed(bN)}}if(this.isDragging){this.handleDrag(bM,bK,bN)}},handleDrag:function(bL,bK,bM){this.trigger("drag",bL,bK,bM);this.updateAutoScroll(bM)},endDrag:function(bK){if(this.isDragging){this.isDragging=false;this.handleDragEnd(bK)}},handleDragEnd:function(bK){this.trigger("dragEnd",bK)},startDelay:function(bK){var bL=this;if(this.delay){this.delayTimeoutId=setTimeout(function(){bL.handleDelayEnd(bK)},this.delay)}else{this.handleDelayEnd(bK)}},handleDelayEnd:function(bK){this.isDelayEnded=true;if(this.isDistanceSurpassed){this.startDrag(bK)}},handleDistanceSurpassed:function(bK){this.isDistanceSurpassed=true;if(this.isDelayEnded){this.startDrag(bK)}},handleTouchMove:function(bK){if(this.isDragging&&this.shouldCancelTouchScroll){bK.preventDefault()}this.handleMove(bK)},handleMouseMove:function(bK){this.handleMove(bK)},handleTouchScroll:function(bK){if(!this.isDragging||this.scrollAlwaysKills){this.endInteraction(bK,true)}},trigger:function(bK){if(this.options[bK]){this.options[bK].apply(this,Array.prototype.slice.call(arguments,1))}if(this["_"+bK]){this["_"+bK].apply(this,Array.prototype.slice.call(arguments,1))}}});bk.mixin({isAutoScroll:false,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var bK=this.scrollEl;this.isAutoScroll=this.options.scroll&&bK&&!bK.is(window)&&!bK.is(document);if(this.isAutoScroll){this.listenTo(bK,"scroll",bd(this.handleDebouncedScroll,100))}},destroyAutoScroll:function(){this.endAutoScroll();if(this.isAutoScroll){this.stopListeningTo(this.scrollEl,"scroll")}},computeScrollBounds:function(){if(this.isAutoScroll){this.scrollBounds=ar(this.scrollEl)}},updateAutoScroll:function(bQ){var bM=this.scrollSensitivity;var bK=this.scrollBounds;var bL,bN;var bR,bS;var bP=0;var bO=0;if(bK){bL=(bM-(U(bQ)-bK.top))/bM;bN=(bM-(bK.bottom-U(bQ)))/bM;bR=(bM-(V(bQ)-bK.left))/bM;bS=(bM-(bK.right-V(bQ)))/bM;if(bL>=0&&bL<=1){bP=bL*this.scrollSpeed*-1}else{if(bN>=0&&bN<=1){bP=bN*this.scrollSpeed}}if(bR>=0&&bR<=1){bO=bR*this.scrollSpeed*-1}else{if(bS>=0&&bS<=1){bO=bS*this.scrollSpeed}}}this.setScrollVel(bP,bO)},setScrollVel:function(bL,bK){this.scrollTopVel=bL;this.scrollLeftVel=bK;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(aH(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var bK=this.scrollEl;if(this.scrollTopVel<0){if(bK.scrollTop()<=0){this.scrollTopVel=0}}else{if(this.scrollTopVel>0){if(bK.scrollTop()+bK[0].clientHeight>=bK[0].scrollHeight){this.scrollTopVel=0}}}if(this.scrollLeftVel<0){if(bK.scrollLeft()<=0){this.scrollLeftVel=0}}else{if(this.scrollLeftVel>0){if(bK.scrollLeft()+bK[0].clientWidth>=bK[0].scrollWidth){this.scrollLeftVel=0}}}},scrollIntervalFunc:function(){var bL=this.scrollEl;var bK=this.scrollIntervalMs/1000;if(this.scrollTopVel){bL.scrollTop(bL.scrollTop()+this.scrollTopVel*bK)}if(this.scrollLeftVel){bL.scrollLeft(bL.scrollLeft()+this.scrollLeftVel*bK)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.endAutoScroll()}},endAutoScroll:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.handleScrollEnd()}},handleDebouncedScroll:function(){if(!this.scrollIntervalId){this.handleScrollEnd()}},handleScrollEnd:function(){}});var az=bk.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(bL,bK){bk.call(this,bK);this.component=bL},handleInteractionStart:function(bO){var bL=this.subjectEl;var bM;var bN;var bK;this.component.hitsNeeded();this.computeScrollBounds();if(bO){bN={left:V(bO),top:U(bO)};bK=bN;if(bL){bM=ar(bL);bK=aJ(bK,bM)}this.origHit=this.queryHit(bK.left,bK.top);if(bL&&this.options.subjectCenter){if(this.origHit){bM=c(this.origHit,bM)||bM}bK=aY(bM)}this.coordAdjust=bw(bK,bN)}else{this.origHit=null;this.coordAdjust=null}bk.prototype.handleInteractionStart.apply(this,arguments)},handleDragStart:function(bK){var bL;bk.prototype.handleDragStart.apply(this,arguments);bL=this.queryHit(V(bK),U(bK));if(bL){this.handleHitOver(bL)}},handleDrag:function(bL,bK,bM){var bN;bk.prototype.handleDrag.apply(this,arguments);bN=this.queryHit(V(bM),U(bM));if(!bC(bN,this.hit)){if(this.hit){this.handleHitOut()}if(bN){this.handleHitOver(bN)}}},handleDragEnd:function(){this.handleHitDone();bk.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(bL){var bK=bC(bL,this.origHit);this.hit=bL;this.trigger("hitOver",this.hit,bK,this.origHit)},handleHitOut:function(){if(this.hit){this.trigger("hitOut",this.hit);this.handleHitDone();this.hit=null}},handleHitDone:function(){if(this.hit){this.trigger("hitDone",this.hit)}},handleInteractionEnd:function(){bk.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.hitsNotNeeded()},handleScrollEnd:function(){bk.prototype.handleScrollEnd.apply(this,arguments);if(this.isDragging){this.component.releaseHits();this.component.prepareHits()}},queryHit:function(bL,bK){if(this.coordAdjust){bL+=this.coordAdjust.left;bK+=this.coordAdjust.top}return this.component.queryHit(bL,bK)}});function bC(bL,bK){if(!bL&&!bK){return true}if(bL&&bK){return bL.component===bK.component&&aA(bL,bK)&&aA(bK,bL)}return false}function aA(bK,bL){for(var bM in bK){if(!/^(component|left|right|top|bottom)$/.test(bM)){if(bK[bM]!==bL[bM]){return false}}}return true}B.touchMouseIgnoreWait=500;var ap=ay.extend(aq,A,{isTouching:false,mouseIgnoreDepth:0,handleScrollProxy:null,bind:function(){var bK=this;this.listenTo(bx(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu});window.addEventListener("touchmove",this.handleTouchMoveProxy=function(bL){bK.handleTouchMove(bx.Event(bL))},{passive:false});window.addEventListener("scroll",this.handleScrollProxy=function(bL){bK.handleScroll(bx.Event(bL))},true)},unbind:function(){this.stopListeningTo(bx(document));window.removeEventListener("touchmove",this.handleTouchMoveProxy);window.removeEventListener("scroll",this.handleScrollProxy,true)},handleTouchStart:function(bK){this.stopTouch(bK,true);this.isTouching=true;this.trigger("touchstart",bK)},handleTouchMove:function(bK){if(this.isTouching){this.trigger("touchmove",bK)}},handleTouchCancel:function(bK){if(this.isTouching){this.trigger("touchcancel",bK);this.stopTouch(bK)}},handleTouchEnd:function(bK){this.stopTouch(bK)},handleMouseDown:function(bK){if(!this.shouldIgnoreMouse()){this.trigger("mousedown",bK)}},handleMouseMove:function(bK){if(!this.shouldIgnoreMouse()){this.trigger("mousemove",bK)}},handleMouseUp:function(bK){if(!this.shouldIgnoreMouse()){this.trigger("mouseup",bK)}},handleClick:function(bK){if(!this.shouldIgnoreMouse()){this.trigger("click",bK)}},handleSelectStart:function(bK){this.trigger("selectstart",bK)},handleContextMenu:function(bK){this.trigger("contextmenu",bK)},handleScroll:function(bK){this.trigger("scroll",bK)},stopTouch:function(bK,bL){if(this.isTouching){this.isTouching=false;this.trigger("touchend",bK);if(!bL){this.startTouchMouseIgnore()}}},startTouchMouseIgnore:function(){var bL=this;var bK=B.touchMouseIgnoreWait;if(bK){this.mouseIgnoreDepth++;setTimeout(function(){bL.mouseIgnoreDepth--},bK)}},shouldIgnoreMouse:function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)}});(function(){var bL=null;var bK=0;ap.get=function(){if(!bL){bL=new ap();bL.bind()}return bL};ap.needed=function(){ap.get();bK++};ap.unneeded=function(){bK--;if(!bK){bL.unbind();bL=null}}})();var bc=ay.extend(aq,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:false,isHidden:false,isAnimating:false,constructor:function(bK,bL){this.options=bL=bL||{};this.sourceEl=bK;this.parentEl=bL.parentEl?bx(bL.parentEl):bK.parent()},start:function(bK){if(!this.isFollowing){this.isFollowing=true;this.y0=U(bK);this.x0=V(bK);this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}if(aS(bK)){this.listenTo(bx(document),"touchmove",this.handleMove)}else{this.listenTo(bx(document),"mousemove",this.handleMove)}}},stop:function(bL,bO){var bN=this;var bM=this.options.revertDuration;function bK(){bN.isAnimating=false;bN.removeElement();bN.top0=bN.left0=null;if(bO){bO()}}if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;this.stopListeningTo(bx(document));if(bL&&bM&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:bM,complete:bK})}else{bK()}}},getEl:function(){var bK=this.el;if(!bK){bK=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex});bK.addClass("fc-unselectable");bK.appendTo(this.parentEl)}return bK},removeElement:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var bL;var bK;this.getEl();if(this.top0===null){bL=this.sourceEl.offset();bK=this.el.offsetParent().offset();this.top0=bL.top-bK.top;this.left0=bL.left-bK.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(bK){this.topDelta=U(bK)-this.y0;this.leftDelta=V(bK)-this.x0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}});var aI=B.Grid=ay.extend(aq,{hasDayInteractions:true,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayClickListener:null,daySelectListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(bK){this.view=bK;this.isRTL=bK.opt("isRTL");this.elsByFill={};this.dayClickListener=this.buildDayClickListener();this.daySelectListener=this.buildDaySelectListener()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return true},computeDisplayEventEnd:function(){return true},setRange:function(bK){this.start=bK.start.clone();this.end=bK.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var bL=this.view;var bK;var bM;this.eventTimeFormat=bL.opt("eventTimeFormat")||bL.opt("timeFormat")||this.computeEventTimeFormat();bK=bL.opt("displayEventTime");if(bK==null){bK=this.computeDisplayEventTime()}bM=bL.opt("displayEventEnd");if(bM==null){bM=this.computeDisplayEventEnd()}this.displayEventTime=bK;this.displayEventEnd=bM},spanToSegs:function(bK){},diffDates:function(bL,bK){if(this.largeUnit){return e(bL,bK,this.largeUnit)}else{return h(bL,bK)}},hitsNeededDepth:0,hitsNeeded:function(){if(!(this.hitsNeededDepth++)){this.prepareHits()}},hitsNotNeeded:function(){if(this.hitsNeededDepth&&!(--this.hitsNeededDepth)){this.releaseHits()}},prepareHits:function(){},releaseHits:function(){},queryHit:function(bL,bK){},getSafeHitSpan:function(bK){var bL=this.getHitSpan(bK);if(!aP(bL,this.view.activeRange)){return null}return bL},getHitSpan:function(bK){},getHitEl:function(bK){},setElement:function(bK){this.el=bK;if(this.hasDayInteractions){E(bK);this.bindDayHandler("touchstart",this.dayTouchStart);this.bindDayHandler("mousedown",this.dayMousedown)}this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(bK,bL){var bM=this;this.el.on(bK,function(bN){if(!bx(bN.target).is(bM.segSelector+","+bM.segSelector+" *,.fc-more,a[data-goto]")){return bL.call(bM,bN)}})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(bx(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(bx(document))},dayMousedown:function(bL){var bK=this.view;if(ap.get().shouldIgnoreMouse()){return}this.dayClickListener.startInteraction(bL);if(bK.opt("selectable")){this.daySelectListener.startInteraction(bL,{distance:bK.opt("selectMinDistance")})}},dayTouchStart:function(bL){var bK=this.view;var bM;if(bK.isSelected||bK.selectedEvent){return}bM=bK.opt("selectLongPressDelay");if(bM==null){bM=bK.opt("longPressDelay")}this.dayClickListener.startInteraction(bL);if(bK.opt("selectable")){this.daySelectListener.startInteraction(bL,{delay:bM})}},buildDayClickListener:function(){var bN=this;var bK=this.view;var bL;var bM=new az(this,{scroll:bK.opt("dragScroll"),interactionStart:function(){bL=bM.origHit},hitOver:function(bP,bO,bQ){if(!bO){bL=null}},hitOut:function(){bL=null},interactionEnd:function(bO,bP){var bQ;if(!bP&&bL){bQ=bN.getSafeHitSpan(bL);if(bQ){bK.triggerDayClick(bQ,bN.getHitEl(bL),bO)}}}});bM.shouldCancelTouchScroll=false;bM.scrollAlwaysKills=true;return bM},buildDaySelectListener:function(){var bN=this;var bK=this.view;var bM;var bL=new az(this,{scroll:bK.opt("dragScroll"),interactionStart:function(){bM=null},dragStart:function(){bK.unselect()},hitOver:function(bQ,bO,bS){var bP;var bR;if(bS){bP=bN.getSafeHitSpan(bS);bR=bN.getSafeHitSpan(bQ);if(bP&&bR){bM=bN.computeSelection(bP,bR)}else{bM=null}if(bM){bN.renderSelection(bM)}else{if(bM===false){by()}}}},hitOut:function(){bM=null;bN.unrenderSelection()},hitDone:function(){au()},interactionEnd:function(bO,bP){if(!bP&&bM){bK.reportSelection(bM,bO)}}});return bL},clearDragListeners:function(){this.dayClickListener.endInteraction();this.daySelectListener.endInteraction();if(this.segDragListener){this.segDragListener.endInteraction()}if(this.segResizeListener){this.segResizeListener.endInteraction()}if(this.externalDragListener){this.externalDragListener.endInteraction()}},renderEventLocationHelper:function(bL,bK){var bM=this.fabricateHelperEvent(bL,bK);return this.renderHelper(bM,bK)},fabricateHelperEvent:function(bL,bK){var bM=bK?Z(bK.event):{};bM.start=bL.start.clone();bM.end=bL.end?bL.end.clone():null;bM.allDay=null;this.view.calendar.normalizeEventDates(bM);bM.className=(bM.className||[]).concat("fc-helper");if(!bK){bM.editable=false}return bM},renderHelper:function(bL,bK){},unrenderHelper:function(){},renderSelection:function(bK){this.renderHighlight(bK)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(bM,bK){var bL=this.computeSelectionSpan(bM,bK);if(bL&&!this.view.calendar.isSelectionSpanAllowed(bL)){return false}return bL},computeSelectionSpan:function(bL,bK){var bM=[bL.start,bL.end,bK.start,bK.end];bM.sort(ad);return{start:bM[0].clone(),end:bM[3].clone()}},renderHighlight:function(bK){this.renderFill("highlight",this.spanToSegs(bK))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(bK){},unrenderNowIndicator:function(){},renderFill:function(bL,bK){},unrenderFill:function(bL){var bK=this.elsByFill[bL];if(bK){bK.remove();delete this.elsByFill[bL]}},renderFillSegEls:function(bP,bL){var bQ=this;var bK=this[bP+"SegEl"];var bO="";var bN=[];var bM;if(bL.length){for(bM=0;bM<bL.length;bM++){bO+=this.fillSegHtml(bP,bL[bM])}bx(bO).each(function(bS,bU){var bR=bL[bS];var bT=bx(bU);if(bK){bT=bK.call(bQ,bR,bT)}if(bT){bT=bx(bT);if(bT.is(bQ.fillSegTag)){bR.el=bT;bN.push(bR)}}})}return bN},fillSegTag:"div",fillSegHtml:function(bO,bK){var bP=this[bO+"SegClasses"];var bL=this[bO+"SegCss"];var bN=bP?bP.call(this,bK):[];var bM=O(bL?bL.call(this,bK):{});return"<"+this.fillSegTag+(bN.length?' class="'+bN.join(" ")+'"':"")+(bM?' style="'+bM+'"':"")+" />"},getDayClasses:function(bM,bO){var bK=this.view;var bN=[];var bL;if(!w(bM,bK.activeRange)){bN.push("fc-disabled-day")}else{bN.push("fc-"+aR[bM.day()]);if(bK.currentRangeAs("months")==1&&bM.month()!=bK.currentRange.start.month()){bN.push("fc-other-month")}bL=bK.calendar.getNow();if(bM.isSame(bL,"day")){bN.push("fc-today");if(bO!==true){bN.push(bK.highlightStateClass)}}else{if(bM<bL){bN.push("fc-past")}else{bN.push("fc-future")}}}return bN}});aI.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:false,isResizingSeg:false,isDraggingExternal:false,segs:null,renderEvents:function(bN){var bM=[];var bK=[];var bL;for(bL=0;bL<bN.length;bL++){(ac(bN[bL])?bM:bK).push(bN[bL])}this.segs=[].concat(this.renderBgEvents(bM),this.renderFgEvents(bK))},renderBgEvents:function(bL){var bK=this.eventsToSegs(bL);return this.renderBgSegs(bK)||bK},renderFgEvents:function(bL){var bK=this.eventsToSegs(bL);return this.renderFgSegs(bK)||bK},unrenderEvents:function(){this.handleSegMouseout();this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(bK){},unrenderFgSegs:function(){},renderFgSegEls:function(bM,bL){var bK=this.view;var bP="";var bO=[];var bN;if(bM.length){for(bN=0;bN<bM.length;bN++){bP+=this.fgSegHtml(bM[bN],bL)}bx(bP).each(function(bR,bT){var bQ=bM[bR];var bS=bK.resolveEventEl(bQ.event,bx(bT));if(bS){bS.data("fc-seg",bQ);bQ.el=bS;bO.push(bQ)}})}return bO},fgSegHtml:function(bL,bK){},renderBgSegs:function(bK){return this.renderFill("bgEvent",bK)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(bK,bL){return this.view.resolveEventEl(bK.event,bL)},bgEventSegClasses:function(bK){var bL=bK.event;var bM=bL.source||{};return["fc-bgevent"].concat(bL.className,bM.className||[])},bgEventSegCss:function(bK){return{"background-color":this.getSegSkinCss(bK)["background-color"]}},businessHoursSegClasses:function(bK){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(bL,bK){return this.eventsToSegs(this.buildBusinessHourEvents(bL,bK))},buildBusinessHourEvents:function(bL,bK){var bN=this.view.calendar;var bM;if(bK==null){bK=bN.options.businessHours}bM=bN.computeBusinessHourEvents(bL,bK);if(!bM.length&&bK){bM=[bx.extend({},bJ,{start:this.view.activeRange.end,end:this.view.activeRange.end,dow:null})]}return bM},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(bK){this.bindSegHandlerToEl(bK,"touchstart",this.handleSegTouchStart);this.bindSegHandlerToEl(bK,"mouseenter",this.handleSegMouseover);this.bindSegHandlerToEl(bK,"mouseleave",this.handleSegMouseout);this.bindSegHandlerToEl(bK,"mousedown",this.handleSegMousedown);this.bindSegHandlerToEl(bK,"click",this.handleSegClick)},bindSegHandlerToEl:function(bM,bK,bL){var bN=this;bM.on(bK,this.segSelector,function(bP){var bO=bx(this).data("fc-seg");if(bO&&!bN.isDraggingSeg&&!bN.isResizingSeg){return bL.call(bN,bO,bP)}})},handleSegClick:function(bK,bM){var bL=this.view.publiclyTrigger("eventClick",bK.el[0],bK.event,bM);if(bL===false){bM.preventDefault()}},handleSegMouseover:function(bK,bL){if(!ap.get().shouldIgnoreMouse()&&!this.mousedOverSeg){this.mousedOverSeg=bK;if(this.view.isEventResizable(bK.event)){bK.el.addClass("fc-allow-mouse-resize")}this.view.publiclyTrigger("eventMouseover",bK.el[0],bK.event,bL)}},handleSegMouseout:function(bK,bL){bL=bL||{};if(this.mousedOverSeg){bK=bK||this.mousedOverSeg;this.mousedOverSeg=null;if(this.view.isEventResizable(bK.event)){bK.el.removeClass("fc-allow-mouse-resize")}this.view.publiclyTrigger("eventMouseout",bK.el[0],bK.event,bL)}},handleSegMousedown:function(bK,bL){var bM=this.startSegResize(bK,bL,{distance:5});if(!bM&&this.view.isEventDraggable(bK.event)){this.buildSegDragListener(bK).startInteraction(bL,{distance:5})}},handleSegTouchStart:function(bR,bS){var bT=this.view;var bM=bR.event;var bP=bT.isEventSelected(bM);var bL=bT.isEventDraggable(bM);var bO=bT.isEventResizable(bM);var bQ=false;var bK;var bN;if(bP&&bO){bQ=this.startSegResize(bR,bS)}if(!bQ&&(bL||bO)){bN=bT.opt("eventLongPressDelay");if(bN==null){bN=bT.opt("longPressDelay")}bK=bL?this.buildSegDragListener(bR):this.buildSegSelectListener(bR);bK.startInteraction(bS,{delay:bP?0:bN})}},startSegResize:function(bK,bM,bL){if(bx(bM.target).is(".fc-resizer")){this.buildSegResizeListener(bK,bx(bM.target).is(".fc-start-resizer")).startInteraction(bM,bL);return true}return false},buildSegDragListener:function(bO){var bQ=this;var bS=this.view;var bN=bO.el;var bM=bO.event;var bR;var bL;var bP;if(this.segDragListener){return this.segDragListener}var bK=this.segDragListener=new az(bS,{scroll:bS.opt("dragScroll"),subjectEl:bN,subjectCenter:true,interactionStart:function(bT){bO.component=bQ;bR=false;bL=new bc(bO.el,{additionalClass:"fc-dragging",parentEl:bS.el,opacity:bK.isTouch?null:bS.opt("dragOpacity"),revertDuration:bS.opt("dragRevertDuration"),zIndex:2});bL.hide();bL.start(bT)},dragStart:function(bT){if(bK.isTouch&&!bS.isEventSelected(bM)){bS.selectEvent(bM)}bR=true;bQ.handleSegMouseout(bO,bT);bQ.segDragStart(bO,bT);bS.hideEvent(bM)},hitOver:function(bW,bT,bZ){var bU=true;var bV;var bY;var bX;if(bO.hit){bZ=bO.hit}bV=bZ.component.getSafeHitSpan(bZ);bY=bW.component.getSafeHitSpan(bW);if(bV&&bY){bP=bQ.computeEventDrop(bV,bY,bM);bU=bP&&bQ.isEventLocationAllowed(bP,bM)}else{bU=false}if(!bU){bP=null;by()}if(bP&&(bX=bS.renderDrag(bP,bO))){bX.addClass("fc-dragging");if(!bK.isTouch){bQ.applyDragOpacity(bX)}bL.hide()}else{bL.show()}if(bT){bP=null}},hitOut:function(){bS.unrenderDrag();bL.show();bP=null},hitDone:function(){au()},interactionEnd:function(bT){delete bO.component;bL.stop(!bP,function(){if(bR){bS.unrenderDrag();bQ.segDragStop(bO,bT)}if(bP){bS.reportSegDrop(bO,bP,bQ.largeUnit,bN,bT)}else{bS.showEvent(bM)}});bQ.segDragListener=null}});return bK},buildSegSelectListener:function(bL){var bO=this;var bK=this.view;var bN=bL.event;if(this.segDragListener){return this.segDragListener}var bM=this.segDragListener=new bk({dragStart:function(bP){if(bM.isTouch&&!bK.isEventSelected(bN)){bK.selectEvent(bN)}},interactionEnd:function(bP){bO.segDragListener=null}});return bM},segDragStart:function(bK,bL){this.isDraggingSeg=true;this.view.publiclyTrigger("eventDragStart",bK.el[0],bK.event,bL,{})},segDragStop:function(bK,bL){this.isDraggingSeg=false;this.view.publiclyTrigger("eventDragStop",bK.el[0],bK.event,bL,{})},computeEventDrop:function(bM,bR,bO){var bP=this.view.calendar;var bL=bM.start;var bK=bR.start;var bQ;var bN;if(bL.hasTime()===bK.hasTime()){bQ=this.diffDates(bK,bL);if(bO.allDay&&ai(bQ)){bN={start:bO.start.clone(),end:bP.getEventEnd(bO),allDay:false};bP.normalizeEventTimes(bN)}else{bN=X(bO)}bN.start.add(bQ);if(bN.end){bN.end.add(bQ)}}else{bN={start:bK.clone(),end:null,allDay:!bK.hasTime()}}return bN},applyDragOpacity:function(bL){var bK=this.view.opt("dragOpacity");if(bK!=null){bL.css("opacity",bK)}},externalDragStart:function(bN,bO){var bK=this.view;var bM;var bL;if(bK.opt("droppable")){bM=bx((bO?bO.item:null)||bN.target);bL=bK.opt("dropAccept");if(bx.isFunction(bL)?bL.call(bM[0],bM):bM.is(bL)){if(!this.isDraggingExternal){this.listenToExternalDrag(bM,bN,bO)}}}},listenToExternalDrag:function(bM,bO,bP){var bR=this;var bK=this.view;var bQ=R(bM);var bN;var bL=bR.externalDragListener=new az(this,{interactionStart:function(){bR.isDraggingExternal=true},hitOver:function(bT){var bS=true;var bU=bT.component.getSafeHitSpan(bT);if(bU){bN=bR.computeExternalDrop(bU,bQ);bS=bN&&bR.isExternalLocationAllowed(bN,bQ.eventProps)}else{bS=false}if(!bS){bN=null;by()}if(bN){bR.renderDrag(bN)}},hitOut:function(){bN=null},hitDone:function(){au();bR.unrenderDrag()},interactionEnd:function(bS){if(bN){bK.reportExternalDrop(bQ,bN,bM,bS,bP)}bR.isDraggingExternal=false;bR.externalDragListener=null}});bL.startDrag(bO)},computeExternalDrop:function(bK,bN){var bM=this.view.calendar;var bL={start:bM.applyTimezone(bK.start),end:null};if(bN.startTime&&!bL.start.hasTime()){bL.start.time(bN.startTime)}if(bN.duration){bL.end=bL.start.clone().add(bN.duration)}return bL},renderDrag:function(bL,bK){},unrenderDrag:function(){},buildSegResizeListener:function(bO,bL){var bR=this;var bT=this.view;var bP=bT.calendar;var bN=bO.el;var bM=bO.event;var bQ=bP.getEventEnd(bM);var bS;var bU;var bK=this.segResizeListener=new az(this,{scroll:bT.opt("dragScroll"),subjectEl:bN,interactionStart:function(){bS=false},dragStart:function(bV){bS=true;bR.handleSegMouseout(bO,bV);bR.segResizeStart(bO,bV)},hitOver:function(bY,bV,b0){var bW=true;var bX=bR.getSafeHitSpan(b0);var bZ=bR.getSafeHitSpan(bY);if(bX&&bZ){bU=bL?bR.computeEventStartResize(bX,bZ,bM):bR.computeEventEndResize(bX,bZ,bM);bW=bU&&bR.isEventLocationAllowed(bU,bM)}else{bW=false}if(!bW){bU=null;by()}else{if(bU.start.isSame(bM.start.clone().stripZone())&&bU.end.isSame(bQ.clone().stripZone())){bU=null}}if(bU){bT.hideEvent(bM);bR.renderEventResize(bU,bO)}},hitOut:function(){bU=null;bT.showEvent(bM)},hitDone:function(){bR.unrenderEventResize();au()},interactionEnd:function(bV){if(bS){bR.segResizeStop(bO,bV)}if(bU){bT.reportSegResize(bO,bU,bR.largeUnit,bN,bV)}else{bT.showEvent(bM)}bR.segResizeListener=null}});return bK},segResizeStart:function(bK,bL){this.isResizingSeg=true;this.view.publiclyTrigger("eventResizeStart",bK.el[0],bK.event,bL,{})},segResizeStop:function(bK,bL){this.isResizingSeg=false;this.view.publiclyTrigger("eventResizeStop",bK.el[0],bK.event,bL,{})},computeEventStartResize:function(bK,bM,bL){return this.computeEventResize("start",bK,bM,bL)},computeEventEndResize:function(bK,bM,bL){return this.computeEventResize("end",bK,bM,bL)},computeEventResize:function(bL,bK,bR,bM){var bO=this.view.calendar;var bQ=this.diffDates(bR[bL],bK[bL]);var bP;var bN;bP={start:bM.start.clone(),end:bO.getEventEnd(bM),allDay:bM.allDay};if(bP.allDay&&ai(bQ)){bP.allDay=false;bO.normalizeEventTimes(bP)}bP[bL].add(bQ);if(!bP.start.isBefore(bP.end)){bN=this.minResizeDuration||(bM.allDay?bO.defaultAllDayEventDuration:bO.defaultTimedEventDuration);if(bL=="start"){bP.start=bP.end.clone().subtract(bN)}else{bP.end=bP.start.clone().add(bN)}}return bP},renderEventResize:function(bL,bK){},unrenderEventResize:function(){},getEventTimeText:function(bL,bK,bM){if(bK==null){bK=this.eventTimeFormat}if(bM==null){bM=this.displayEventEnd}if(this.displayEventTime&&bL.start.hasTime()){if(bM&&bL.end){return this.view.formatRange(bL,bK)}else{return bL.start.format(bK)}}return""},getSegClasses:function(bL,bN,bO){var bK=this.view;var bM=["fc-event",bL.isStart?"fc-start":"fc-not-start",bL.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(bL));if(bN){bM.push("fc-draggable")}if(bO){bM.push("fc-resizable")}if(bK.isEventSelected(bL.event)){bM.push("fc-selected")}return bM},getSegCustomClasses:function(bK){var bL=bK.event;return[].concat(bL.className,bL.source?bL.source.className:[])},getSegSkinCss:function(bK){return{"background-color":this.getSegBackgroundColor(bK),"border-color":this.getSegBorderColor(bK),color:this.getSegTextColor(bK)}},getSegBackgroundColor:function(bK){return bK.event.backgroundColor||bK.event.color||this.getSegDefaultBackgroundColor(bK)},getSegDefaultBackgroundColor:function(bK){var bL=bK.event.source||{};return bL.backgroundColor||bL.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(bK){return bK.event.borderColor||bK.event.color||this.getSegDefaultBorderColor(bK)},getSegDefaultBorderColor:function(bK){var bL=bK.event.source||{};return bL.borderColor||bL.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(bK){return bK.event.textColor||this.getSegDefaultTextColor(bK)},getSegDefaultTextColor:function(bK){var bL=bK.event.source||{};return bL.textColor||this.view.opt("eventTextColor")},isEventLocationAllowed:function(bN,bM){if(this.isEventLocationInRange(bN)){var bO=this.view.calendar;var bL=this.eventToSpans(bN);var bK;if(bL.length){for(bK=0;bK<bL.length;bK++){if(!bO.isEventSpanAllowed(bL[bK],bM)){return false}}return true}}return false},isExternalLocationAllowed:function(bM,bO){if(this.isEventLocationInRange(bM)){var bN=this.view.calendar;var bL=this.eventToSpans(bM);var bK;if(bL.length){for(bK=0;bK<bL.length;bK++){if(!bN.isExternalSpanAllowed(bL[bK],bM,bO)){return false}}return true}}return false},isEventLocationInRange:function(bK){return aP(this.eventToRawRange(bK),this.view.validRange)},eventToSegs:function(bK){return this.eventsToSegs([bK])},eventToSpans:function(bL){var bK=this.eventToRange(bL);if(bK){return this.eventRangeToSpans(bK,bL)}else{return[]}},eventsToSegs:function(bL,bO){var bN=this;var bM=aW(bL);var bK=[];bx.each(bM,function(bU,bS){var bT=[];var bP=[];var bR;var bQ;for(bQ=0;bQ<bS.length;bQ++){bR=bN.eventToRange(bS[bQ]);if(bR){bP.push(bR);bT.push(bS[bQ])}}if(bg(bS[0])){bP=bN.invertRanges(bP);for(bQ=0;bQ<bP.length;bQ++){bK.push.apply(bK,bN.eventRangeToSegs(bP[bQ],bS[0],bO))}}else{for(bQ=0;bQ<bP.length;bQ++){bK.push.apply(bK,bN.eventRangeToSegs(bP[bQ],bT[bQ],bO))}}});return bK},eventToRange:function(bK){return this.refineRawEventRange(this.eventToRawRange(bK))},refineRawEventRange:function(bM){var bK=this.view;var bN=bK.calendar;var bL=g(bM,bK.activeRange);if(bL){bN.localizeMoment(bL.start);bN.localizeMoment(bL.end);return bL}},eventToRawRange:function(bL){var bM=this.view.calendar;var bN=bL.start.clone().stripZone();var bK=(bL.end?bL.end.clone():bM.getDefaultEventEnd(bL.allDay!=null?bL.allDay:!bL.start.hasTime(),bL.start)).stripZone();return{start:bN,end:bK}},eventRangeToSegs:function(bM,bO,bP){var bN=this.eventRangeToSpans(bM,bO);var bK=[];var bL;for(bL=0;bL<bN.length;bL++){bK.push.apply(bK,this.eventSpanToSegs(bN[bL],bO,bP))}return bK},eventRangeToSpans:function(bK,bL){return[bx.extend({},bK)]},eventSpanToSegs:function(bN,bO,bP){var bL=bP?bP(bN):this.spanToSegs(bN);var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];if(!bN.isStart){bK.isStart=false}if(!bN.isEnd){bK.isEnd=false}bK.event=bO;bK.eventStartMS=+bN.start;bK.eventDurationMS=bN.end-bN.start}return bL},invertRanges:function(bL){var bK=this.view;var bR=bK.activeRange.start.clone();var bO=bK.activeRange.end.clone();var bP=[];var bQ=bR;var bN,bM;bL.sort(i);for(bN=0;bN<bL.length;bN++){bM=bL[bN];if(bM.start>bQ){bP.push({start:bQ,end:bM.start})}bQ=bM.end}if(bQ<bO){bP.push({start:bQ,end:bO})}return bP},sortEventSegs:function(bK){bK.sort(aH(this,"compareEventSegs"))},compareEventSegs:function(bL,bK){return bL.eventStartMS-bK.eventStartMS||bK.eventDurationMS-bL.eventDurationMS||bK.event.allDay-bL.event.allDay||bf(bL.event,bK.event,this.view.eventOrderSpecs)}});function X(bK){return{start:bK.start.clone(),end:bK.end?bK.end.clone():null,allDay:bK.allDay}}B.pluckEventDateProps=X;function ac(bL){var bK=be(bL);return bK==="background"||bK==="inverse-background"}B.isBgEvent=ac;function bg(bK){return be(bK)==="inverse-background"}function be(bK){return ab((bK.source||{}).rendering,bK.rendering)}function aW(bL){var bM={};var bK,bN;for(bK=0;bK<bL.length;bK++){bN=bL[bK];(bM[bN._id]||(bM[bN._id]=[])).push(bN)}return bM}function i(bL,bK){return bL.start-bK.start}B.dataAttrPrefix="";function R(bM){var bO=B.dataAttrPrefix;var bN;var bL;var bP;var bK;if(bO){bO+="-"}bN=bM.data(bO+"event")||null;if(bN){if(typeof bN==="object"){bN=bx.extend({},bN)}else{bN={}}bL=bN.start;if(bL==null){bL=bN.time}bP=bN.duration;bK=bN.stick;delete bN.start;delete bN.time;delete bN.duration;delete bN.stick}if(bL==null){bL=bM.data(bO+"start")}if(bL==null){bL=bM.data(bO+"time")}if(bP==null){bP=bM.data(bO+"duration")}if(bK==null){bK=bM.data(bO+"stick")}bL=bL!=null?a8.duration(bL):null;bP=bP!=null?a8.duration(bP):null;bK=Boolean(bK);return{eventProps:bN,startTime:bL,duration:bP,stick:bK}}var aZ=B.DayTableMixin={breakOnWeeks:false,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){var bL=this.view;var bO=this.start.clone();var bP=-1;var bK=[];var bR=[];var bN;var bM;var bQ;while(bO.isBefore(this.end)){if(bL.isHiddenDay(bO)){bK.push(bP+0.5)}else{bP++;bK.push(bP);bR.push(bO.clone())}bO.add(1,"days")}if(this.breakOnWeeks){bM=bR[0].day();for(bN=1;bN<bR.length;bN++){if(bR[bN].day()==bM){break}}bQ=Math.ceil(bR.length/bN)}else{bQ=1;bN=bR.length}this.dayDates=bR;this.dayIndices=bK;this.daysPerRow=bN;this.rowCnt=bQ;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(bL,bK){return this.dayDates[this.getCellDayIndex(bL,bK)].clone()},getCellRange:function(bM,bL){var bN=this.getCellDate(bM,bL);var bK=bN.clone().add(1,"days");return{start:bN,end:bK}},getCellDayIndex:function(bL,bK){return bL*this.daysPerRow+this.getColDayIndex(bK)},getColDayIndex:function(bK){if(this.isRTL){return this.colCnt-1-bK}else{return bK}},getDateDayIndex:function(bM){var bK=this.dayIndices;var bL=bM.diff(this.start,"days");if(bL<0){return bK[0]-1}else{if(bL>=bK.length){return bK[bK.length-1]+1}else{return bK[bL]}}},computeColHeadFormat:function(){if(this.rowCnt>1||this.colCnt>10){return"ddd"}else{if(this.colCnt>1){return this.view.opt("dayOfMonthFormat")}else{return"dddd"}}},sliceRangeByRow:function(bN){var bS=this.daysPerRow;var bM=this.view.computeDayRange(bN);var bL=this.getDateDayIndex(bM.start);var bP=this.getDateDayIndex(bM.end.clone().subtract(1,"days"));var bK=[];var bU;var bQ,bR;var bT,bO;for(bU=0;bU<this.rowCnt;bU++){bQ=bU*bS;bR=bQ+bS-1;bT=Math.max(bL,bQ);bO=Math.min(bP,bR);bT=Math.ceil(bT);bO=Math.floor(bO);if(bT<=bO){bK.push({row:bU,firstRowDayIndex:bT-bQ,lastRowDayIndex:bO-bQ,isStart:bT===bL,isEnd:bO===bP})}}return bK},sliceRangeByDay:function(bO){var bT=this.daysPerRow;var bN=this.view.computeDayRange(bO);var bL=this.getDateDayIndex(bN.start);var bQ=this.getDateDayIndex(bN.end.clone().subtract(1,"days"));var bK=[];var bV;var bR,bS;var bM;var bU,bP;for(bV=0;bV<this.rowCnt;bV++){bR=bV*bT;bS=bR+bT-1;for(bM=bR;bM<=bS;bM++){bU=Math.max(bL,bM);bP=Math.min(bQ,bM);bU=Math.ceil(bU);bP=Math.floor(bP);if(bU<=bP){bK.push({row:bV,firstRowDayIndex:bU-bR,lastRowDayIndex:bP-bR,isStart:bU===bL,isEnd:bP===bQ})}}}return bK},renderHeadHtml:function(){var bK=this.view;return'<div class="fc-row '+bK.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var bM=[];var bL,bK;for(bL=0;bL<this.colCnt;bL++){bK=this.getCellDate(0,bL);bM.push(this.renderHeadDateCellHtml(bK))}return bM.join("")},renderHeadDateCellHtml:function(bN,bQ,bK){var bL=this.view;var bO=w(bN,bL.activeRange);var bP=["fc-day-header",bL.widgetHeaderClass];var bM=aM(bN.format(this.colHeadFormat));if(this.rowCnt===1){bP=bP.concat(this.getDayClasses(bN,true))}else{bP.push("fc-"+aR[bN.day()])}return'<th class="'+bP.join(" ")+'"'+((bO&&this.rowCnt)===1?' data-date="'+bN.format("YYYY-MM-DD")+'"':"")+(bQ>1?' colspan="'+bQ+'"':"")+(bK?" "+bK:"")+">"+(bO?bL.buildGotoAnchorHtml({date:bN,forceOff:this.rowCnt>1||this.colCnt===1},bM):bM)+"</th>"},renderBgTrHtml:function(bK){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(bK))+this.renderBgCellsHtml(bK)+(this.isRTL?this.renderBgIntroHtml(bK):"")+"</tr>"},renderBgIntroHtml:function(bK){return this.renderIntroHtml()},renderBgCellsHtml:function(bN){var bM=[];var bL,bK;for(bL=0;bL<this.colCnt;bL++){bK=this.getCellDate(bN,bL);bM.push(this.renderBgCellHtml(bK))}return bM.join("")},renderBgCellHtml:function(bM,bK){var bL=this.view;var bO=w(bM,bL.activeRange);var bN=this.getDayClasses(bM);bN.unshift("fc-day",bL.widgetContentClass);return'<td class="'+bN.join(" ")+'"'+(bO?' data-date="'+bM.format("YYYY-MM-DD")+'"':"")+(bK?" "+bK:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(bL){var bK=this.renderIntroHtml();if(bK){if(this.isRTL){bL.append(bK)}else{bL.prepend(bK)}}}};var bA=B.DayGrid=aI.extend(aZ,{numbersVisible:false,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(bL){var bK=this.view;var bQ=this.rowCnt;var bN=this.colCnt;var bO="";var bP;var bM;for(bP=0;bP<bQ;bP++){bO+=this.renderDayRowHtml(bP,bL)}this.el.html(bO);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day, .fc-disabled-day");this.rowCoordCache=new ao({els:this.rowEls,isVertical:true});this.colCoordCache=new ao({els:this.cellEls.slice(0,this.colCnt),isHorizontal:true});for(bP=0;bP<bQ;bP++){for(bM=0;bM<bN;bM++){bK.publiclyTrigger("dayRender",null,this.getCellDate(bP,bM),this.getCellEl(bP,bM))}}},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var bK=this.buildBusinessHourSegs(true);this.renderFill("businessHours",bK,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(bN,bL){var bK=this.view;var bM=["fc-row","fc-week",bK.widgetContentClass];if(bL){bM.push("fc-rigid")}return'<div class="'+bM.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(bN)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(bN)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(bK){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(bK))+this.renderNumberCellsHtml(bK)+(this.isRTL?this.renderNumberIntroHtml(bK):"")+"</tr>"},renderNumberIntroHtml:function(bK){return this.renderIntroHtml()},renderNumberCellsHtml:function(bN){var bM=[];var bL,bK;for(bL=0;bL<this.colCnt;bL++){bK=this.getCellDate(bN,bL);bM.push(this.renderNumberCellHtml(bK))}return bM.join("")},renderNumberCellHtml:function(bM){var bL=this.view;var bP="";var bQ=w(bM,bL.activeRange);var bK=bL.dayNumbersVisible&&bQ;var bO;var bN;if(!bK&&!bL.cellWeekNumbersVisible){return"<td/>"}bO=this.getDayClasses(bM);bO.unshift("fc-day-top");if(bL.cellWeekNumbersVisible){if(bM._locale._fullCalendar_weekCalc==="ISO"){bN=1}else{bN=bM._locale.firstDayOfWeek()}}bP+='<td class="'+bO.join(" ")+'"'+(bQ?' data-date="'+bM.format()+'"':"")+">";if(bL.cellWeekNumbersVisible&&(bM.day()==bN)){bP+=bL.buildGotoAnchorHtml({date:bM,type:"week"},{"class":"fc-week-number"},bM.format("w"))}if(bK){bP+=bL.buildGotoAnchorHtml(bM,{"class":"fc-day-number"},bM.date())}bP+="</td>";return bP},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return this.colCnt==1},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(bN){var bL=this.sliceRangeByRow(bN);var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];if(this.isRTL){bK.leftCol=this.daysPerRow-1-bK.lastRowDayIndex;bK.rightCol=this.daysPerRow-1-bK.firstRowDayIndex}else{bK.leftCol=bK.firstRowDayIndex;bK.rightCol=bK.lastRowDayIndex}}return bL},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(bM,bL){if(this.colCoordCache.isLeftInBounds(bM)&&this.rowCoordCache.isTopInBounds(bL)){var bK=this.colCoordCache.getHorizontalIndex(bM);var bN=this.rowCoordCache.getVerticalIndex(bL);if(bN!=null&&bK!=null){return this.getCellHit(bN,bK)}}},getHitSpan:function(bK){return this.getCellRange(bK.row,bK.col)},getHitEl:function(bK){return this.getCellEl(bK.row,bK.col)},getCellHit:function(bL,bK){return{row:bL,col:bK,component:this,left:this.colCoordCache.getLeftOffset(bK),right:this.colCoordCache.getRightOffset(bK),top:this.rowCoordCache.getTopOffset(bL),bottom:this.rowCoordCache.getBottomOffset(bL)}},getCellEl:function(bL,bK){return this.cellEls.eq(bL*this.colCnt+bK)},renderDrag:function(bN,bK){var bM=this.eventToSpans(bN);var bL;for(bL=0;bL<bM.length;bL++){this.renderHighlight(bM[bL])}if(bK&&bK.component!==this){return this.renderEventLocationHelper(bN,bK)}},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(bN,bK){var bM=this.eventToSpans(bN);var bL;for(bL=0;bL<bM.length;bL++){this.renderHighlight(bM[bL])}return this.renderEventLocationHelper(bN,bK)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(bO,bM){var bK=[];var bL=this.eventToSegs(bO);var bN;bL=this.renderFgSegEls(bL);bN=this.renderSegRows(bL);this.rowEls.each(function(bT,bR){var bQ=bx(bR);var bS=bx('<div class="fc-helper-skeleton"><table/></div>');var bP;if(bM&&bM.row===bT){bP=bM.el.position().top}else{bP=bQ.find(".fc-content-skeleton tbody").position().top}bS.css("top",bP).find("table").append(bN[bT].tbodyEl);bQ.append(bS);bK.push(bS[0])});return(this.helperEls=bx(bK))},unrenderHelper:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},fillSegTag:"td",renderFill:function(bP,bL,bO){var bM=[];var bN,bK;var bQ;bL=this.renderFillSegEls(bP,bL);for(bN=0;bN<bL.length;bN++){bK=bL[bN];bQ=this.renderFillRow(bP,bK,bO);this.rowEls.eq(bK.row).append(bQ);bM.push(bQ[0])}this.elsByFill[bP]=bx(bM);return bL},renderFillRow:function(bN,bK,bM){var bL=this.colCnt;var bQ=bK.leftCol;var bP=bK.rightCol+1;var bR;var bO;bM=bM||bN.toLowerCase();bR=bx('<div class="fc-'+bM+'-skeleton"><table><tr/></table></div>');bO=bR.find("tr");if(bQ>0){bO.append('<td colspan="'+bQ+'"/>')}bO.append(bK.el.attr("colspan",bP-bQ));if(bP<bL){bO.append('<td colspan="'+(bL-bP)+'"/>')}this.bookendCells(bO);return bR}});bA.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();aI.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return aI.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(bK){var bL=bx.grep(bK,function(bM){return bM.event.allDay});return aI.prototype.renderBgSegs.call(this,bL)},renderFgSegs:function(bK){var bL;bK=this.renderFgSegEls(bK);bL=this.rowStructs=this.renderSegRows(bK);this.rowEls.each(function(bM,bN){bx(bN).find(".fc-content-skeleton > table").append(bL[bM].tbodyEl)});return bK},unrenderFgSegs:function(){var bL=this.rowStructs||[];var bK;while((bK=bL.pop())){bK.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(bL){var bM=[];var bK;var bN;bK=this.groupSegRows(bL);for(bN=0;bN<bK.length;bN++){bM.push(this.renderSegRow(bN,bK[bN]))}return bM},fgSegHtml:function(bR,bM){var bU=this.view;var bL=bR.event;var bK=bU.isEventDraggable(bL);var bP=!bM&&bL.allDay&&bR.isStart&&bU.isEventResizableFromStart(bL);var bO=!bM&&bL.allDay&&bR.isEnd&&bU.isEventResizableFromEnd(bL);var bQ=this.getSegClasses(bR,bK,bP||bO);var bV=O(this.getSegSkinCss(bR));var bT="";var bN;var bS;bQ.unshift("fc-day-grid-event","fc-h-event");if(bR.isStart){bN=this.getEventTimeText(bL);if(bN){bT='<span class="fc-time">'+aM(bN)+"</span>"}}bS='<span class="fc-title">'+(aM(bL.title||"")||"&nbsp;")+"</span>";return'<a class="'+bQ.join(" ")+'"'+(bL.url?' href="'+aM(bL.url)+'"':"")+(bV?' style="'+bV+'"':"")+'><div class="fc-content">'+(this.isRTL?bS+" "+bT:bT+" "+bS)+"</div>"+(bP?'<div class="fc-resizer fc-start-resizer" />':"")+(bO?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(bZ,b0){var bX=this.colCnt;var bT=this.buildSegLevels(b0);var bK=Math.max(1,bT.length);var bS=bx("<tbody/>");var bO=[];var bU=[];var bM=[];var bR,bW;var bL;var bV;var bQ,bP;var bN;function bY(b1){while(bL<b1){bN=(bM[bR-1]||[])[bL];if(bN){bN.attr("rowspan",parseInt(bN.attr("rowspan")||1,10)+1)}else{bN=bx("<td/>");bV.append(bN)}bU[bR][bL]=bN;bM[bR][bL]=bN;bL++}}for(bR=0;bR<bK;bR++){bW=bT[bR];bL=0;bV=bx("<tr/>");bO.push([]);bU.push([]);bM.push([]);if(bW){for(bQ=0;bQ<bW.length;bQ++){bP=bW[bQ];bY(bP.leftCol);bN=bx('<td class="fc-event-container"/>').append(bP.el);if(bP.leftCol!=bP.rightCol){bN.attr("colspan",bP.rightCol-bP.leftCol+1)}else{bM[bR][bL]=bN}while(bL<=bP.rightCol){bU[bR][bL]=bN;bO[bR][bL]=bP;bL++}bV.append(bN)}}bY(bX);this.bookendCells(bV);bS.append(bV)}return{row:bZ,tbodyEl:bS,cellMatrix:bU,segMatrix:bO,segLevels:bT,segs:b0}},buildSegLevels:function(bL){var bO=[];var bN,bK;var bM;this.sortEventSegs(bL);for(bN=0;bN<bL.length;bN++){bK=bL[bN];for(bM=0;bM<bO.length;bM++){if(!J(bK,bO[bM])){break}}bK.level=bM;(bO[bM]||(bO[bM]=[])).push(bK)}for(bM=0;bM<bO.length;bM++){bO[bM].sort(aL)}return bO},groupSegRows:function(bL){var bK=[];var bM;for(bM=0;bM<this.rowCnt;bM++){bK.push([])}for(bM=0;bM<bL.length;bM++){bK[bL[bM].row].push(bL[bM])}return bK}});function J(bK,bN){var bL,bM;for(bL=0;bL<bN.length;bL++){bM=bN[bL];if(bM.leftCol<=bK.rightCol&&bM.rightCol>=bK.leftCol){return true}}return false}function aL(bL,bK){return bL.leftCol-bK.leftCol}bA.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(bM){var bK=this.rowStructs||[];var bN;var bL;for(bN=0;bN<bK.length;bN++){this.unlimitRow(bN);if(!bM){bL=false}else{if(typeof bM==="number"){bL=bM}else{bL=this.computeRowLevelLimit(bN)}}if(bL!==false){this.limitRow(bN,bL)}}},computeRowLevelLimit:function(bR){var bM=this.rowEls.eq(bR);var bQ=bM.height();var bL=this.rowStructs[bR].tbodyEl.children();var bN,bP;var bK;function bO(bT,bS){bK=Math.max(bK,bx(bS).outerHeight())}for(bN=0;bN<bL.length;bN++){bP=bL.eq(bN).removeClass("fc-limited");bK=0;bP.find("> td > :first-child").each(bO);if(bP.position().top+bK>bQ){return bN}}return false},limitRow:function(bS,bW){var bY=this;var bM=this.rowStructs[bS];var bR=[];var bQ=0;var bK;var bP;var b3;var b1,b2;var b5;var bT;var bL;var bU,b4;var bO;var bZ;var bN,b0,bX;function bV(b6){while(bQ<b6){b5=bY.getCellSegs(bS,bQ,bW);if(b5.length){bU=bP[bW-1][bQ];bX=bY.renderMoreLink(bS,bQ,b5);b0=bx("<div/>").append(bX);bU.append(b0);bR.push(b0[0])}bQ++}}if(bW&&bW<bM.segLevels.length){bK=bM.segLevels[bW-1];bP=bM.cellMatrix;b3=bM.tbodyEl.children().slice(bW).addClass("fc-limited").get();for(b1=0;b1<bK.length;b1++){b2=bK[b1];bV(b2.leftCol);bL=[];bT=0;while(bQ<=b2.rightCol){b5=this.getCellSegs(bS,bQ,bW);bL.push(b5);bT+=b5.length;bQ++}if(bT){bU=bP[bW-1][b2.leftCol];b4=bU.attr("rowspan")||1;bO=[];for(bZ=0;bZ<bL.length;bZ++){bN=bx('<td class="fc-more-cell"/>').attr("rowspan",b4);b5=bL[bZ];bX=this.renderMoreLink(bS,b2.leftCol+bZ,[b2].concat(b5));b0=bx("<div/>").append(bX);bN.append(b0);bO.push(bN[0]);bR.push(bN[0])}bU.addClass("fc-limited").after(bx(bO));b3.push(bU[0])}}bV(this.colCnt);bM.moreEls=bx(bR);bM.limitedEls=bx(b3)}},unlimitRow:function(bL){var bK=this.rowStructs[bL];if(bK.moreEls){bK.moreEls.remove();bK.moreEls=null}if(bK.limitedEls){bK.limitedEls.removeClass("fc-limited");bK.limitedEls=null}},renderMoreLink:function(bN,bM,bL){var bO=this;var bK=this.view;return bx('<a class="fc-more"/>').text(this.getMoreLinkText(bL.length)).on("click",function(bT){var bW=bK.opt("eventLimitClick");var bQ=bO.getCellDate(bN,bM);var bU=bx(this);var bV=bO.getCellEl(bN,bM);var bP=bO.getCellSegs(bN,bM);var bR=bO.resliceDaySegs(bP,bQ);var bS=bO.resliceDaySegs(bL,bQ);if(typeof bW==="function"){bW=bK.publiclyTrigger("eventLimitClick",null,{date:bQ,dayEl:bV,moreEl:bU,segs:bR,hiddenSegs:bS},bT)}if(bW==="popover"){bO.showSegPopover(bN,bM,bU,bR)}else{if(typeof bW==="string"){bK.calendar.zoomTo(bQ,bW)}}})},showSegPopover:function(bS,bM,bQ,bK){var bN=this;var bP=this.view;var bL=bQ.parent();var bO;var bR;if(this.rowCnt==1){bO=bP.el}else{bO=this.rowEls.eq(bS)}bR={className:"fc-more-popover",content:this.renderSegPopoverContent(bS,bM,bK),parentEl:this.view.el,top:bO.offset().top,autoHide:true,viewportConstrain:bP.opt("popoverViewportConstrain"),hide:function(){if(bN.popoverSegs){var bT;for(var bU=0;bU<bN.popoverSegs.length;++bU){bT=bN.popoverSegs[bU];bP.publiclyTrigger("eventDestroy",bT.event,bT.event,bT.el)}}bN.segPopover.removeElement();bN.segPopover=null;bN.popoverSegs=null}};if(this.isRTL){bR.right=bL.offset().left+bL.outerWidth()+1}else{bR.left=bL.offset().left-1}this.segPopover=new a1(bR);this.segPopover.show();this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(bS,bL,bK){var bP=this.view;var bM=bP.opt("theme");var bQ=this.getCellDate(bS,bL).format(bP.opt("dayPopoverFormat"));var bO=bx('<div class="fc-header '+bP.widgetHeaderClass+'"><span class="fc-close '+(bM?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+aM(bQ)+'</span><div class="fc-clear"/></div><div class="fc-body '+bP.widgetContentClass+'"><div class="fc-event-container"></div></div>');var bR=bO.find(".fc-event-container");var bN;bK=this.renderFgSegEls(bK,true);this.popoverSegs=bK;for(bN=0;bN<bK.length;bN++){this.hitsNeeded();bK[bN].hit=this.getCellHit(bS,bL);this.hitsNotNeeded();bR.append(bK[bN].el)}return bO},resliceDaySegs:function(bM,bK){var bO=bx.map(bM,function(bQ){return bQ.event});var bL=bK.clone();var bP=bL.clone().add(1,"days");var bN={start:bL,end:bP};bM=this.eventsToSegs(bO,function(bR){var bQ=g(bR,bN);return bQ?[bQ]:[]});this.sortEventSegs(bM);return bM},getMoreLinkText:function(bK){var bL=this.view.opt("eventLimitText");if(typeof bL==="function"){return bL(bK)}else{return"+"+bK+" "+bL}},getCellSegs:function(bP,bM,bN){var bO=this.rowStructs[bP].segMatrix;var bQ=bN||0;var bL=[];var bK;while(bQ<bO.length){bK=bO[bQ][bM];if(bK){bL.push(bK)}bQ++}return bL}});var m=B.TimeGrid=aI.extend(aZ,{slotDuration:null,snapDuration:null,snapsPerSlot:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){aI.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day, .fc-disabled-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new ao({els:this.colEls,isHorizontal:true});this.slatCoordCache=new ao({els:this.slatEls,isVertical:true});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){var bK=this.view;var bO=this.isRTL;var bN="";var bP=a8.duration(+this.view.minTime);var bM;var bL;var bQ;while(bP<this.view.maxTime){bM=this.start.clone().time(bP);bL=bB(H(bP,this.labelInterval));bQ='<td class="fc-axis fc-time '+bK.widgetContentClass+'" '+bK.axisStyleAttr()+">"+(bL?"<span>"+aM(bM.format(this.labelFormat))+"</span>":"")+"</td>";bN+='<tr data-time="'+bM.format("HH:mm:ss")+'"'+(bL?"":' class="fc-minor"')+">"+(!bO?bQ:"")+'<td class="'+bK.widgetContentClass+'"/>'+(bO?bQ:"")+"</tr>";bP.add(this.slotDuration)}return bN},processOptions:function(){var bK=this.view;var bN=bK.opt("slotDuration");var bM=bK.opt("snapDuration");var bL;bN=a8.duration(bN);bM=bM?a8.duration(bM):bN;this.slotDuration=bN;this.snapDuration=bM;this.snapsPerSlot=bN/bM;this.minResizeDuration=bM;bL=bK.opt("slotLabelFormat");if(bx.isArray(bL)){bL=bL[bL.length-1]}this.labelFormat=bL||bK.opt("smallTimeFormat");bL=bK.opt("slotLabelInterval");this.labelInterval=bL?a8.duration(bL):this.computeLabelInterval(bN)},computeLabelInterval:function(bM){var bL;var bK;var bN;for(bL=a2.length-1;bL>=0;bL--){bK=a8.duration(a2[bL]);bN=H(bK,bM);if(bB(bN)&&bN>1){return bK}}return a8.duration(bM)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return true},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(bL,bR){var bO=this.snapsPerSlot;var bU=this.colCoordCache;var bK=this.slatCoordCache;if(bU.isLeftInBounds(bL)&&bK.isTopInBounds(bR)){var bW=bU.getHorizontalIndex(bL);var bX=bK.getVerticalIndex(bR);if(bW!=null&&bX!=null){var bV=bK.getTopOffset(bX);var bS=bK.getHeight(bX);var bT=(bR-bV)/bS;var bM=Math.floor(bT*bO);var bQ=bX*bO+bM;var bP=bV+(bM/bO)*bS;var bN=bV+((bM+1)/bO)*bS;return{col:bW,snap:bQ,component:this,left:bU.getLeftOffset(bW),right:bU.getRightOffset(bW),top:bP,bottom:bN}}}},getHitSpan:function(bL){var bN=this.getCellDate(0,bL.col);var bM=this.computeSnapTime(bL.snap);var bK;bN.time(bM);bK=bN.clone().add(this.snapDuration);return{start:bN,end:bK}},getHitEl:function(bK){return this.colEls.eq(bK.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(bK){return a8.duration(this.view.minTime+this.snapDuration*bK)},spanToSegs:function(bM){var bK=this.sliceRangeByTimes(bM);var bL;for(bL=0;bL<bK.length;bL++){if(this.isRTL){bK[bL].col=this.daysPerRow-1-bK[bL].dayIndex}else{bK[bL].col=bK[bL].dayIndex}}return bK},sliceRangeByTimes:function(bN){var bM=[];var bL;var bP;var bK;var bO;for(bP=0;bP<this.daysPerRow;bP++){bK=this.dayDates[bP].clone().time(0);bO={start:bK.clone().add(this.view.minTime),end:bK.clone().add(this.view.maxTime)};bL=g(bN,bO);if(bL){bL.dayIndex=bP;bM.push(bL)}}return bM},updateSize:function(bK){this.slatCoordCache.build();if(bK){this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))}},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(bK,bL){return this.computeTimeTop(a8.duration(bK-bL.clone().stripTime()))},computeTimeTop:function(bO){var bK=this.slatEls.length;var bN=(bO-this.view.minTime)/this.slotDuration;var bM;var bL;bN=Math.max(0,bN);bN=Math.min(bK,bN);bM=Math.floor(bN);bM=Math.min(bM,bK-1);bL=bN-bM;return this.slatCoordCache.getTopPosition(bM)+this.slatCoordCache.getHeight(bM)*bL},renderDrag:function(bN,bK){var bM;var bL;if(bK){return this.renderEventLocationHelper(bN,bK)}else{bM=this.eventToSpans(bN);for(bL=0;bL<bM.length;bL++){this.renderHighlight(bM[bL])}}},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(bL,bK){return this.renderEventLocationHelper(bL,bK)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(bL,bK){return this.renderHelperSegs(this.eventToSegs(bL),bK)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(bM){var bK=this.spanToSegs({start:bM,end:bM});var bO=this.computeDateTop(bM,bM);var bL=[];var bN;for(bN=0;bN<bK.length;bN++){bL.push(bx('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",bO).appendTo(this.colContainerEls.eq(bK[bN].col))[0])}if(bK.length>0){bL.push(bx('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",bO).appendTo(this.el.find(".fc-content-skeleton"))[0])}this.nowIndicatorEls=bx(bL)},unrenderNowIndicator:function(){if(this.nowIndicatorEls){this.nowIndicatorEls.remove();this.nowIndicatorEls=null}},renderSelection:function(bK){if(this.view.opt("selectHelper")){this.renderEventLocationHelper(bK)}else{this.renderHighlight(bK)}},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderHighlight:function(bK){this.renderHighlightSegs(this.spanToSegs(bK))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});m.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var bM="";var bK;var bL;for(bK=0;bK<this.colCnt;bK++){bM+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}bL=bx('<div class="fc-content-skeleton"><table><tr>'+bM+"</tr></table></div>");this.colContainerEls=bL.find(".fc-content-col");this.helperContainerEls=bL.find(".fc-helper-container");this.fgContainerEls=bL.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=bL.find(".fc-bgevent-container");this.highlightContainerEls=bL.find(".fc-highlight-container");this.businessContainerEls=bL.find(".fc-business-container");this.bookendCells(bL.find("tr"));this.el.append(bL)},renderFgSegs:function(bK){bK=this.renderFgSegsIntoContainers(bK,this.fgContainerEls);this.fgSegs=bK;return bK},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(bL,bN){var bP=[];var bO,bK;var bM;bL=this.renderFgSegsIntoContainers(bL,this.helperContainerEls);for(bO=0;bO<bL.length;bO++){bK=bL[bO];if(bN&&bN.col===bK.col){bM=bN.el;bK.el.css({left:bM.css("left"),right:bM.css("right"),"margin-left":bM.css("margin-left"),"margin-right":bM.css("margin-right")})}bP.push(bK.el[0])}this.helperSegs=bL;return bx(bP)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(bK){bK=this.renderFillSegEls("bgEvent",bK);this.updateSegVerticals(bK);this.attachSegsByCol(this.groupSegsByCol(bK),this.bgContainerEls);this.bgSegs=bK;return bK},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(bK){bK=this.renderFillSegEls("highlight",bK);this.updateSegVerticals(bK);this.attachSegsByCol(this.groupSegsByCol(bK),this.highlightContainerEls);this.highlightSegs=bK},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(bK){bK=this.renderFillSegEls("businessHours",bK);this.updateSegVerticals(bK);this.attachSegsByCol(this.groupSegsByCol(bK),this.businessContainerEls);this.businessSegs=bK},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(bK){var bM=[];var bL;for(bL=0;bL<this.colCnt;bL++){bM.push([])}for(bL=0;bL<bK.length;bL++){bM[bK[bL].col].push(bK[bL])}return bM},attachSegsByCol:function(bO,bN){var bL;var bK;var bM;for(bL=0;bL<this.colCnt;bL++){bK=bO[bL];for(bM=0;bM<bK.length;bM++){bN.eq(bL).append(bK[bM].el)}}},unrenderNamedSegs:function(bM){var bK=this[bM];var bL;if(bK){for(bL=0;bL<bK.length;bL++){bK[bL].el.remove()}this[bM]=null}},renderFgSegsIntoContainers:function(bK,bM){var bN;var bL;bK=this.renderFgSegEls(bK);bN=this.groupSegsByCol(bK);for(bL=0;bL<this.colCnt;bL++){this.updateFgSegCoords(bN[bL])}this.attachSegsByCol(bN,bM);return bK},fgSegHtml:function(bS,bM){var bU=this.view;var bL=bS.event;var bK=bU.isEventDraggable(bL);var bQ=!bM&&bS.isStart&&bU.isEventResizableFromStart(bL);var bP=!bM&&bS.isEnd&&bU.isEventResizableFromEnd(bL);var bR=this.getSegClasses(bS,bK,bQ||bP);var bV=O(this.getSegSkinCss(bS));var bO;var bT;var bN;bR.unshift("fc-time-grid-event","fc-v-event");if(bU.isMultiDayEvent(bL)){if(bS.isStart||bS.isEnd){bO=this.getEventTimeText(bS);bT=this.getEventTimeText(bS,"LT");bN=this.getEventTimeText(bS,null,false)}}else{bO=this.getEventTimeText(bL);bT=this.getEventTimeText(bL,"LT");bN=this.getEventTimeText(bL,null,false)}return'<a class="'+bR.join(" ")+'"'+(bL.url?' href="'+aM(bL.url)+'"':"")+(bV?' style="'+bV+'"':"")+'><div class="fc-content">'+(bO?'<div class="fc-time" data-start="'+aM(bN)+'" data-full="'+aM(bT)+'"><span>'+aM(bO)+"</span></div>":"")+(bL.title?'<div class="fc-title">'+aM(bL.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(bP?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(bK){this.computeSegVerticals(bK);this.assignSegVerticals(bK)},computeSegVerticals:function(bM){var bN,bL;var bK;for(bN=0;bN<bM.length;bN++){bL=bM[bN];bK=this.dayDates[bL.dayIndex];bL.top=this.computeDateTop(bL.start,bK);bL.bottom=this.computeDateTop(bL.end,bK)}},assignSegVerticals:function(bL){var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];bK.el.css(this.generateSegVerticalCss(bK))}},generateSegVerticalCss:function(bK){return{top:bK.top,bottom:-bK.bottom}},updateFgSegCoords:function(bK){this.computeSegVerticals(bK);this.computeFgSegHorizontals(bK);this.assignSegVerticals(bK);this.assignFgSegHorizontals(bK)},computeFgSegHorizontals:function(bK){var bM;var bN;var bL;this.sortEventSegs(bK);bM=T(bK);b(bM);if((bN=bM[0])){for(bL=0;bL<bN.length;bL++){s(bN[bL])}for(bL=0;bL<bN.length;bL++){this.computeFgSegForwardBack(bN[bL],0,0)}}},computeFgSegForwardBack:function(bL,bN,bO){var bK=bL.forwardSegs;var bM;if(bL.forwardCoord===undefined){if(!bK.length){bL.forwardCoord=1}else{this.sortForwardSegs(bK);this.computeFgSegForwardBack(bK[0],bN+1,bO);bL.forwardCoord=bK[0].backwardCoord}bL.backwardCoord=bL.forwardCoord-(bL.forwardCoord-bO)/(bN+1);for(bM=0;bM<bK.length;bM++){this.computeFgSegForwardBack(bK[bM],0,bL.forwardCoord)}}},sortForwardSegs:function(bK){bK.sort(aH(this,"compareForwardSegs"))},compareForwardSegs:function(bL,bK){return bK.forwardPressure-bL.forwardPressure||(bL.backwardCoord||0)-(bK.backwardCoord||0)||this.compareEventSegs(bL,bK)},assignFgSegHorizontals:function(bL){var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];bK.el.css(this.generateFgSegHorizontalCss(bK));if(bK.bottom-bK.top<30){bK.el.addClass("fc-short")}}},generateFgSegHorizontalCss:function(bK){var bN=this.view.opt("slotEventOverlap");var bL=bK.backwardCoord;var bM=bK.forwardCoord;var bP=this.generateSegVerticalCss(bK);var bQ;var bO;if(bN){bM=Math.min(1,bL+(bM-bL)*2)}if(this.isRTL){bQ=1-bM;bO=bL}else{bQ=bL;bO=1-bM}bP.zIndex=bK.level+1;bP.left=bQ*100+"%";bP.right=bO*100+"%";if(bN&&bK.forwardPressure){bP[this.isRTL?"marginLeft":"marginRight"]=10*2}return bP}});function T(bL){var bO=[];var bN,bK;var bM;for(bN=0;bN<bL.length;bN++){bK=bL[bN];for(bM=0;bM<bO.length;bM++){if(!bv(bK,bO[bM]).length){break}}bK.level=bM;(bO[bM]||(bO[bM]=[])).push(bK)}return bO}function b(bO){var bN,bP;var bM,bK;var bL;for(bN=0;bN<bO.length;bN++){bP=bO[bN];for(bM=0;bM<bP.length;bM++){bK=bP[bM];bK.forwardSegs=[];for(bL=bN+1;bL<bO.length;bL++){bv(bK,bO[bL],bK.forwardSegs)}}}}function s(bL){var bK=bL.forwardSegs;var bO=0;var bN,bM;if(bL.forwardPressure===undefined){for(bN=0;bN<bK.length;bN++){bM=bK[bN];s(bM);bO=Math.max(bO,1+bM.forwardPressure)}bL.forwardPressure=bO}}function bv(bK,bN,bM){bM=bM||[];for(var bL=0;bL<bN.length;bL++){if(a5(bK,bN[bL])){bM.push(bN[bL])}}return bM}function a5(bL,bK){return bL.bottom>bK.top&&bL.top<bK.bottom}var aU=B.View=ay.extend(A,aq,{type:null,name:null,title:null,calendar:null,viewSpec:null,options:null,el:null,isDateSet:false,isDateRendered:false,dateRenderQueue:null,isEventsBound:false,isEventsSet:false,isEventsRendered:false,eventRenderQueue:null,isRTL:false,isSelected:false,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(bL,bK){this.calendar=bL;this.viewSpec=bK;this.type=bK.type;this.options=bK.options;this.name=this.type;this.nextDayThreshold=a8.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=aG(this.opt("eventOrder"));this.dateRenderQueue=new bl();this.eventRenderQueue=new bl(this.opt("eventRenderWait"));this.initialize()},initialize:function(){},opt:function(bK){return this.options[bK]},publiclyTrigger:function(bK,bM){var bL=this.calendar;return bL.publiclyTrigger.apply(bL,[bK,bM||this].concat(Array.prototype.slice.call(arguments,2),[this]))},rejectOn:function(bK,bL){var bM=this;return new bt(function(bP,bO){bM.one(bK,bO);function bN(){bM.off(bK,bO)}bL.then(function(bQ){bN();bP(bQ)},function(){bN();bO()})})},updateTitle:function(){this.title=this.computeTitle();this.calendar.setToolbarsTitle(this.title)},computeTitle:function(){var bK;if(/^(year|month)$/.test(this.currentRangeUnit)){bK=this.currentRange}else{bK=this.activeRange}return this.formatRange({start:this.calendar.applyTimezone(bK.start),end:this.calendar.applyTimezone(bK.end)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){if(this.currentRangeUnit=="year"){return"YYYY"}else{if(this.currentRangeUnit=="month"){return this.opt("monthYearFormat")}else{if(this.currentRangeAs("days")>1){return"ll"}else{return"LL"}}}},formatRange:function(bM,bL,bN){var bK=bM.end;if(!bK.hasTime()){bK=bK.clone().subtract(1)}return bm(bM.start,bK,bL,bN,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||aM(this.opt("allDayText"))},buildGotoAnchorHtml:function(bP,bM,bK){var bL,bO,bQ;var bN;if(bx.isPlainObject(bP)){bL=bP.date;bO=bP.type;bQ=bP.forceOff}else{bL=bP}bL=B.moment(bL);bN={date:bL.format("YYYY-MM-DD"),type:bO||"day"};if(typeof bM==="string"){bK=bM;bM=null}bM=bM?" "+a9(bM):"";bK=bK||"";if(!bQ&&this.opt("navLinks")){return"<a"+bM+' data-goto="'+aM(JSON.stringify(bN))+'">'+bK+"</a>"}else{return"<span"+bM+">"+bK+"</span>"}},setElement:function(bK){this.el=bK;this.bindGlobalHandlers();this.renderSkeleton()},removeElement:function(){this.unsetDate();this.unrenderSkeleton();this.unbindGlobalHandlers();this.el.remove()},renderSkeleton:function(){},unrenderSkeleton:function(){},setDate:function(bK){var bL=this.isDateSet;this.isDateSet=true;this.handleRawDate(bK);this.trigger(bL?"dateReset":"dateSet",bK)},unsetDate:function(){if(this.isDateSet){this.isDateSet=false;this.handleDateUnset();this.trigger("dateUnset")}},handleRawDate:function(bL){var bM=this;var bK=this.buildDateProfile(bL,null,true);if(!this.isSameDateProfile(bK)){this.handleDate(bK)}else{this.dateRenderQueue.add(function(){if(!bM.isDateRendered){bM.handleDate(bK)}})}},handleDate:function(bK){var bL=this;this.unbindEvents();this.requestDateRender(bK).then(function(){bL.bindEvents()})},handleDateUnset:function(){this.unbindEvents();this.requestDateUnrender()},requestDateRender:function(bK){var bL=this;return this.dateRenderQueue.add(function(){return bL.executeDateRender(bK)})},requestDateUnrender:function(){var bK=this;return this.dateRenderQueue.add(function(){return bK.executeDateUnrender()})},executeDateRender:function(bK){var bL=this;if(bK){bL.setDateProfile(bK)}this.updateTitle();this.calendar.updateToolbarButtons();if(bK){this.captureInitialScroll()}else{this.captureScroll()}this.freezeHeight();return this.executeDateUnrender().then(function(){if(bL.render){bL.render()}bL.renderDates();bL.updateSize();bL.renderBusinessHours();bL.startNowIndicator();bL.thawHeight();bL.releaseScroll();bL.isDateRendered=true;bL.onDateRender();bL.trigger("dateRender")})},executeDateUnrender:function(){var bK=this;if(bK.isDateRendered){return this.requestEventsUnrender().then(function(){bK.unselect();bK.stopNowIndicator();bK.triggerUnrender();bK.unrenderBusinessHours();bK.unrenderDates();if(bK.destroy){bK.destroy()}bK.isDateRendered=false;bK.trigger("dateUnrender")})}else{return bt.resolve()}},onDateRender:function(){this.triggerRender()},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.publiclyTrigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.publiclyTrigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(ap.get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},unbindGlobalHandlers:function(){this.stopListeningTo(ap.get())},initThemingProps:function(){var bK=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=bK+"-widget-header";this.widgetContentClass=bK+"-widget-content";this.highlightStateClass=bK+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var bN=this;var bL;var bM;var bK;if(this.opt("nowIndicator")){bL=this.getNowIndicatorUnit();if(bL){bM=aH(this,"updateNowIndicator");this.initialNowDate=this.calendar.getNow();this.initialNowQueriedMs=+new Date();this.renderNowIndicator(this.initialNowDate);this.isNowIndicatorRendered=true;bK=this.initialNowDate.clone().startOf(bL).add(1,bL)-this.initialNowDate;this.nowIndicatorTimeoutID=setTimeout(function(){bN.nowIndicatorTimeoutID=null;bM();bK=+a8.duration(1,bL);bK=Math.max(100,bK);bN.nowIndicatorIntervalID=setInterval(bM,bK)},bK)}}},updateNowIndicator:function(){if(this.isNowIndicatorRendered){this.unrenderNowIndicator();this.renderNowIndicator(this.initialNowDate.clone().add(new Date()-this.initialNowQueriedMs))}},stopNowIndicator:function(){if(this.isNowIndicatorRendered){if(this.nowIndicatorTimeoutID){clearTimeout(this.nowIndicatorTimeoutID);this.nowIndicatorTimeoutID=null}if(this.nowIndicatorIntervalID){clearTimeout(this.nowIndicatorIntervalID);this.nowIndicatorIntervalID=null}this.unrenderNowIndicator();this.isNowIndicatorRendered=false}},getNowIndicatorUnit:function(){},renderNowIndicator:function(bK){},unrenderNowIndicator:function(){},updateSize:function(bK){if(bK){this.captureScroll()}this.updateHeight(bK);this.updateWidth(bK);this.updateNowIndicator();if(bK){this.releaseScroll()}},updateWidth:function(bK){},updateHeight:function(bK){var bL=this.calendar;this.setHeight(bL.getSuggestedViewHeight(),bL.isHeightAuto())},setHeight:function(bL,bK){},capturedScroll:null,capturedScrollDepth:0,captureScroll:function(){if(!(this.capturedScrollDepth++)){this.capturedScroll=this.isDateRendered?this.queryScroll():{};return true}return false},captureInitialScroll:function(bK){if(this.captureScroll()){this.capturedScroll.isInitial=true;if(bK){bx.extend(this.capturedScroll,bK)}else{this.capturedScroll.isComputed=true}}},releaseScroll:function(){var bK=this.capturedScroll;var bL=this.discardScroll();if(bK.isComputed){if(bL){bx.extend(bK,this.computeInitialScroll())}else{bK=null}}if(bK){if(bK.isInitial){this.hardSetScroll(bK)}else{this.setScroll(bK)}}},discardScroll:function(){if(!(--this.capturedScrollDepth)){this.capturedScroll=null;return true}return false},computeInitialScroll:function(){return{}},queryScroll:function(){return{}},hardSetScroll:function(bK){var bM=this;var bL=function(){bM.setScroll(bK)};bL();setTimeout(bL,0)},setScroll:function(bK){},freezeHeight:function(){this.calendar.freezeContentHeight()},thawHeight:function(){this.calendar.thawContentHeight()},bindEvents:function(){var bK=this;if(!this.isEventsBound){this.isEventsBound=true;this.rejectOn("eventsUnbind",this.requestEvents()).then(function(bL){bK.listenTo(bK.calendar,"eventsReset",bK.setEvents);bK.setEvents(bL)})}},unbindEvents:function(){if(this.isEventsBound){this.isEventsBound=false;this.stopListeningTo(this.calendar,"eventsReset");this.unsetEvents();this.trigger("eventsUnbind")}},setEvents:function(bK){var bL=this.isEventSet;this.isEventsSet=true;this.handleEvents(bK,bL);this.trigger(bL?"eventsReset":"eventsSet",bK)},unsetEvents:function(){if(this.isEventsSet){this.isEventsSet=false;this.handleEventsUnset();this.trigger("eventsUnset")}},whenEventsSet:function(){var bK=this;if(this.isEventsSet){return bt.resolve(this.getCurrentEvents())}else{return new bt(function(bL){bK.one("eventsSet",bL)})}},handleEvents:function(bK,bL){this.requestEventsRender(bK)},handleEventsUnset:function(){this.requestEventsUnrender()},requestEventsRender:function(bK){var bL=this;return this.eventRenderQueue.add(function(){return bL.executeEventsRender(bK)})},requestEventsUnrender:function(){var bK=this;if(this.isEventsRendered){return this.eventRenderQueue.addQuickly(function(){return bK.executeEventsUnrender()})}else{return bt.resolve()}},requestCurrentEventsRender:function(){if(this.isEventsSet){this.requestEventsRender(this.getCurrentEvents())}else{return bt.reject()}},executeEventsRender:function(bK){var bL=this;this.captureScroll();this.freezeHeight();return this.executeEventsUnrender().then(function(){bL.renderEvents(bK);bL.thawHeight();bL.releaseScroll();bL.isEventsRendered=true;bL.onEventsRender();bL.trigger("eventsRender")})},executeEventsUnrender:function(){if(this.isEventsRendered){this.onBeforeEventsUnrender();this.captureScroll();this.freezeHeight();if(this.destroyEvents){this.destroyEvents()}this.unrenderEvents();this.thawHeight();this.releaseScroll();this.isEventsRendered=false;this.trigger("eventsUnrender")}return bt.resolve()},onEventsRender:function(){this.renderedEventSegEach(function(bK){this.publiclyTrigger("eventAfterRender",bK.event,bK.event,bK.el)});this.publiclyTrigger("eventAfterAllRender")},onBeforeEventsUnrender:function(){this.renderedEventSegEach(function(bK){this.publiclyTrigger("eventDestroy",bK.event,bK.event,bK.el)})},renderEvents:function(bK){},unrenderEvents:function(){},requestEvents:function(){return this.calendar.requestEvents(this.activeRange.start,this.activeRange.end)},getCurrentEvents:function(){return this.calendar.getPrunedEventCache()},resolveEventEl:function(bL,bK){var bM=this.publiclyTrigger("eventRender",bL,bL,bK);if(bM===false){bK=null}else{if(bM&&bM!==true){bK=bx(bM)}}return bK},showEvent:function(bK){this.renderedEventSegEach(function(bL){bL.el.css("visibility","")},bK)},hideEvent:function(bK){this.renderedEventSegEach(function(bL){bL.el.css("visibility","hidden")},bK)},renderedEventSegEach:function(bN,bM){var bK=this.getEventSegs();var bL;for(bL=0;bL<bK.length;bL++){if(!bM||bK[bL].event._id===bM._id){if(bK[bL].el){bN.call(this,bK[bL])}}}},getEventSegs:function(){return[]},isEventDraggable:function(bK){return this.isEventStartEditable(bK)},isEventStartEditable:function(bK){return ab(bK.startEditable,(bK.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(bK))},isEventGenerallyEditable:function(bK){return ab(bK.editable,(bK.source||{}).editable,this.opt("editable"))},reportSegDrop:function(bL,bP,bN,bM,bO){var bR=this.calendar;var bQ=bR.mutateSeg(bL,bP,bN);var bK=function(){bQ.undo();bR.reportEventChange()};this.triggerEventDrop(bL.event,bQ.dateDelta,bK,bM,bO);bR.reportEventChange()},triggerEventDrop:function(bN,bO,bK,bL,bM){this.publiclyTrigger("eventDrop",bL[0],bN,bO,bK,bM,{})},reportExternalDrop:function(bR,bO,bL,bN,bQ){var bP=bR.eventProps;var bK;var bM;if(bP){bK=bx.extend({},bP,bO);bM=this.calendar.renderEvent(bK,bR.stick)[0]}this.triggerExternalDrop(bM,bO,bL,bN,bQ)},triggerExternalDrop:function(bN,bM,bK,bL,bO){this.publiclyTrigger("drop",bK[0],bM.start,bL,bO);if(bN){this.publiclyTrigger("eventReceive",null,bN)}},renderDrag:function(bL,bK){},unrenderDrag:function(){},isEventResizableFromStart:function(bK){return this.opt("eventResizableFromStart")&&this.isEventResizable(bK)},isEventResizableFromEnd:function(bK){return this.isEventResizable(bK)},isEventResizable:function(bK){var bL=bK.source||{};return ab(bK.durationEditable,bL.durationEditable,this.opt("eventDurationEditable"),bK.editable,bL.editable,this.opt("editable"))},reportSegResize:function(bL,bR,bN,bM,bO){var bQ=this.calendar;var bP=bQ.mutateSeg(bL,bR,bN);var bK=function(){bP.undo();bQ.reportEventChange()};this.triggerEventResize(bL.event,bP.durationDelta,bK,bM,bO);bQ.reportEventChange()},triggerEventResize:function(bO,bL,bK,bM,bN){this.publiclyTrigger("eventResize",bM[0],bO,bL,bK,bN,{})},select:function(bK,bL){this.unselect(bL);this.renderSelection(bK);this.reportSelection(bK,bL)},renderSelection:function(bK){},reportSelection:function(bK,bL){this.isSelected=true;this.triggerSelect(bK,bL)},triggerSelect:function(bK,bL){this.publiclyTrigger("select",null,this.calendar.applyTimezone(bK.start),this.calendar.applyTimezone(bK.end),bL)},unselect:function(bK){if(this.isSelected){this.isSelected=false;if(this.destroySelection){this.destroySelection()}this.unrenderSelection();this.publiclyTrigger("unselect",null,bK)}},unrenderSelection:function(){},selectEvent:function(bK){if(!this.selectedEvent||this.selectedEvent!==bK){this.unselectEvent();this.renderedEventSegEach(function(bL){bL.el.addClass("fc-selected")},bK);this.selectedEvent=bK}},unselectEvent:function(){if(this.selectedEvent){this.renderedEventSegEach(function(bK){bK.el.removeClass("fc-selected")},this.selectedEvent);this.selectedEvent=null}},isEventSelected:function(bK){return this.selectedEvent&&this.selectedEvent._id===bK._id},handleDocumentMousedown:function(bK){if(bF(bK)){this.processUnselect(bK)}},processUnselect:function(bK){this.processRangeUnselect(bK);this.processEventUnselect(bK)},processRangeUnselect:function(bK){var bL;if(this.isSelected&&this.opt("unselectAuto")){bL=this.opt("unselectCancel");if(!bL||!bx(bK.target).closest(bL).length){this.unselect(bK)}}},processEventUnselect:function(bK){if(this.selectedEvent){if(!bx(bK.target).closest(".fc-selected").length){this.unselectEvent()}}},triggerDayClick:function(bK,bM,bL){this.publiclyTrigger("dayClick",bM,this.calendar.applyTimezone(bK.start),bL)},computeDayRange:function(bL){var bO=bL.start.clone().stripTime();var bK=bL.end;var bN=null;var bM;if(bK){bN=bK.clone().stripTime();bM=+bK.time();if(bM&&bM>=this.nextDayThreshold){bN.add(1,"days")}}if(!bK||bN<=bO){bN=bO.clone().add(1,"days")}return{start:bO,end:bN}},isMultiDayEvent:function(bL){var bK=this.computeDayRange(bL);return bK.end.diff(bK.start,"days")>1}});aU.mixin({currentRange:null,currentRangeUnit:null,renderRange:null,activeRange:null,validRange:null,dateIncrement:null,currentDate:null,minTime:null,maxTime:null,usesMinMaxTime:false,start:null,end:null,intervalStart:null,intervalEnd:null,isSameDateProfile:function(bK){return this.activeRange&&j(this.activeRange,bK.activeRange)},setDateProfile:function(bK){this.currentRange=bK.currentRange;this.currentRangeUnit=bK.currentRangeUnit;this.renderRange=bK.renderRange;this.activeRange=bK.activeRange;this.validRange=bK.validRange;this.dateIncrement=bK.dateIncrement;this.currentDate=bK.date;this.minTime=bK.minTime;this.maxTime=bK.maxTime;this.start=bK.activeRange.start;this.end=bK.activeRange.end;this.intervalStart=bK.currentRange.start;this.intervalEnd=bK.currentRange.end},buildPrevDateProfile:function(bK){var bL=bK.clone().startOf(this.currentRangeUnit).subtract(this.dateIncrement);return this.buildDateProfile(bL,-1)},buildNextDateProfile:function(bK){var bL=bK.clone().startOf(this.currentRangeUnit).add(this.dateIncrement);return this.buildDateProfile(bL,1)},buildDateProfile:function(bN,bQ,bM){var bR=this.buildValidRange();var bP=null;var bL=null;var bK;var bO;var bS;var bT;if(bM){bN=a7(bN,bR)}bK=this.buildCurrentRangeInfo(bN,bQ);bO=this.buildRenderRange(bK.range,bK.unit);bS=W(bO);if(!this.opt("showNonCurrentDates")){bS=k(bS,bK.range)}bP=a8.duration(this.opt("minTime"));bL=a8.duration(this.opt("maxTime"));this.adjustActiveRange(bS,bP,bL);bS=k(bS,bR);bN=a7(bN,bS);bT=br(bK.range,bR);return{validRange:bR,currentRange:bK.range,currentRangeUnit:bK.unit,activeRange:bS,renderRange:bO,minTime:bP,maxTime:bL,isValid:bT,date:bN,dateIncrement:this.buildDateIncrement(bK.duration)}},buildValidRange:function(){return this.getRangeOption("validRange",this.calendar.getNow())||{}},buildCurrentRangeInfo:function(bL,bP){var bO=null;var bM=null;var bK=null;var bN;if(this.viewSpec.duration){bO=this.viewSpec.duration;bM=this.viewSpec.durationUnit;bK=this.buildRangeFromDuration(bL,bP,bO,bM)}else{if((bN=this.opt("dayCount"))){bM="day";bK=this.buildRangeFromDayCount(bL,bP,bN)}else{if((bK=this.buildCustomVisibleRange(bL))){bM=aE(bK.start,bK.end)}else{bO=this.getFallbackDuration();bM=aE(bO);bK=this.buildRangeFromDuration(bL,bP,bO,bM)}}}this.normalizeCurrentRange(bK,bM);return{duration:bO,unit:bM,range:bK}},getFallbackDuration:function(){return a8.duration({days:1})},normalizeCurrentRange:function(bK,bL){if(/^(year|month|week|day)$/.test(bL)){bK.start.stripTime();bK.end.stripTime()}else{if(!bK.start.hasTime()){bK.start.time(0)}if(!bK.end.hasTime()){bK.end.time(0)}}},adjustActiveRange:function(bL,bK,bM){var bN=false;if(this.usesMinMaxTime){if(bK<0){bL.start.time(0).add(bK);bN=true}if(bM>24*60*60*1000){bL.end.time(bM-(24*60*60*1000));bN=true}if(bN){if(!bL.start.hasTime()){bL.start.time(0)}if(!bL.end.hasTime()){bL.end.time(0)}}}},buildRangeFromDuration:function(bM,bR,bN,bS){var bQ=this.opt("dateAlignment");var bL=bM.clone();var bO;var bK;var bP;if(bN.as("days")<=1){if(this.isHiddenDay(bL)){bL=this.skipHiddenDays(bL,bR);bL.startOf("day")}}if(!bQ){bK=this.opt("dateIncrement");if(bK){bP=a8.duration(bK);if(bP<bN){bQ=f(bP,bK)}else{bQ=bS}}else{bQ=bS}}bL.startOf(bQ);bO=bL.clone().add(bN);return{start:bL,end:bO}},buildRangeFromDayCount:function(bN,bP,bO){var bM=this.opt("dateAlignment");var bK=0;var bQ=bN.clone();var bL;if(bM){bQ.startOf(bM)}bQ.startOf("day");bQ=this.skipHiddenDays(bQ,bP);bL=bQ.clone();do{bL.add(1,"day");if(!this.isHiddenDay(bL)){bK++}}while(bK<bO);return{start:bQ,end:bL}},buildCustomVisibleRange:function(bL){var bK=this.getRangeOption("visibleRange",this.calendar.moment(bL));if(bK&&(!bK.start||!bK.end)){return null}return bK},buildRenderRange:function(bK,bL){return this.trimHiddenDays(bK)},buildDateIncrement:function(bM){var bL=this.opt("dateIncrement");var bK;if(bL){return a8.duration(bL)}else{if((bK=this.opt("dateAlignment"))){return a8.duration(1,bK)}else{if(bM){return bM}else{return a8.duration({days:1})}}}},trimHiddenDays:function(bK){return{start:this.skipHiddenDays(bK.start),end:this.skipHiddenDays(bK.end,-1,true)}},currentRangeAs:function(bL){var bK=this.currentRange;return bK.end.diff(bK.start,bL,true)},getRangeOption:function(bK){var bL=this.opt(bK);if(typeof bL==="function"){bL=bL.apply(null,Array.prototype.slice.call(arguments,1))}if(bL){return this.calendar.parseRange(bL)}},initHiddenDays:function(){var bL=this.opt("hiddenDays")||[];var bN=[];var bK=0;var bM;if(this.opt("weekends")===false){bL.push(0,6)}for(bM=0;bM<7;bM++){if(!(bN[bM]=bx.inArray(bM,bL)!==-1)){bK++}}if(!bK){throw"invalid hiddenDays"}this.isHiddenDayHash=bN},isHiddenDay:function(bK){if(a8.isMoment(bK)){bK=bK.day()}return this.isHiddenDayHash[bK]},skipHiddenDays:function(bM,bN,bK){var bL=bM.clone();bN=bN||1;while(this.isHiddenDayHash[(bL.day()+(bK?bN:0)+7)%7]){bL.add(bN,"days")}return bL}});var ba=B.Scroller=ay.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(bK){bK=bK||{};this.overflowX=bK.overflowX||bK.overflow||"auto";this.overflowY=bK.overflowY||bK.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return(this.scrollEl=bx('<div class="fc-scroller"></div>'))},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(bM){var bL=this.overflowX;var bK=this.overflowY;bM=bM||this.getScrollbarWidths();if(bL==="auto"){bL=(bM.top||bM.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth)?"scroll":"hidden"}if(bK==="auto"){bK=(bM.left||bM.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight)?"scroll":"hidden"}this.scrollEl.css({"overflow-x":bL,"overflow-y":bK})},setHeight:function(bK){this.scrollEl.height(bK)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(bK){this.scrollEl.scrollTop(bK)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return a(this.scrollEl)}});function bz(bK){this.items=bK||[]}bz.prototype.proxyCall=function(bK){var bL=Array.prototype.slice.call(arguments,1);var bM=[];this.items.forEach(function(bN){bM.push(bN[bK].apply(bN,bL))});return bM};function a4(bR,bK){var bZ=this;bZ.setToolbarOptions=bP;bZ.render=bM;bZ.removeElement=bU;bZ.updateTitle=bS;bZ.activateButton=bL;bZ.deactivateButton=bX;bZ.disableButton=bQ;bZ.enableButton=bT;bZ.getViewsWithButtons=bO;bZ.el=null;var bN;var bV=[];var bW;function bP(b0){bK=b0}function bM(){var b0=bK.layout;bW=bR.options.theme?"ui":"fc";if(b0){if(!bN){bN=this.el=bx("<div class='fc-toolbar "+bK.extraClasses+"'/>")}else{bN.empty()}bN.append(bY("left")).append(bY("right")).append(bY("center")).append('<div class="fc-clear"/>')}else{bU()}}function bU(){if(bN){bN.remove();bN=bZ.el=null}}function bY(b0){var b1=bx('<div class="fc-'+b0+'"/>');var b2=bK.layout[b0];if(b2){bx.each(b2.split(" "),function(b3){var b4=bx();var b5=true;var b6;bx.each(this.split(","),function(cb,ci){var ch;var ce;var cd;var cg;var cf;var b8;var ca;var b7;var b9;var cc;if(ci=="title"){b4=b4.add(bx("<h2>&nbsp;</h2>"));b5=false}else{if((ch=(bR.options.customButtons||{})[ci])){cd=function(cj){if(ch.click){ch.click.call(cc[0],cj)}};cg="";cf=ch.text}else{if((ce=bR.getViewSpec(ci))){cd=function(){bR.changeView(ci)};bV.push(ci);cg=ce.buttonTextOverride;cf=ce.buttonTextDefault}else{if(bR[ci]){cd=function(){bR[ci]()};cg=(bR.overrides.buttonText||{})[ci];cf=bR.options.buttonText[ci]}}}if(cd){b8=ch?ch.themeIcon:bR.options.themeButtonIcons[ci];ca=ch?ch.icon:bR.options.buttonIcons[ci];if(cg){b7=aM(cg)}else{if(b8&&bR.options.theme){b7="<span class='ui-icon ui-icon-"+b8+"'></span>"}else{if(ca&&!bR.options.theme){b7="<span class='fc-icon fc-icon-"+ca+"'></span>"}else{b7=aM(cf)}}}b9=["fc-"+ci+"-button",bW+"-button",bW+"-state-default"];cc=bx('<button type="button" class="'+b9.join(" ")+'">'+b7+"</button>").click(function(cj){if(!cc.hasClass(bW+"-state-disabled")){cd(cj);if(cc.hasClass(bW+"-state-active")||cc.hasClass(bW+"-state-disabled")){cc.removeClass(bW+"-state-hover")}}}).mousedown(function(){cc.not("."+bW+"-state-active").not("."+bW+"-state-disabled").addClass(bW+"-state-down")}).mouseup(function(){cc.removeClass(bW+"-state-down")}).hover(function(){cc.not("."+bW+"-state-active").not("."+bW+"-state-disabled").addClass(bW+"-state-hover")},function(){cc.removeClass(bW+"-state-hover").removeClass(bW+"-state-down")});b4=b4.add(cc)}}});if(b5){b4.first().addClass(bW+"-corner-left").end().last().addClass(bW+"-corner-right").end()}if(b4.length>1){b6=bx("<div/>");if(b5){b6.addClass("fc-button-group")}b6.append(b4);b1.append(b6)}else{b1.append(b4)}})}return b1}function bS(b0){if(bN){bN.find("h2").text(b0)}}function bL(b0){if(bN){bN.find(".fc-"+b0+"-button").addClass(bW+"-state-active")}}function bX(b0){if(bN){bN.find(".fc-"+b0+"-button").removeClass(bW+"-state-active")}}function bQ(b0){if(bN){bN.find(".fc-"+b0+"-button").prop("disabled",true).addClass(bW+"-state-disabled")}}function bT(b0){if(bN){bN.find(".fc-"+b0+"-button").prop("disabled",false).removeClass(bW+"-state-disabled")}}function bO(){return bV}}var z=B.Calendar=ay.extend({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,currentDate:null,header:null,footer:null,loadingLevel:0,constructor:M,initialize:function(){},populateOptionsHash:function(){var bK,bL;var bM,bN;bK=ab(this.dynamicOverrides.locale,this.overrides.locale);bL=ag[bK];if(!bL){bK=z.defaults.locale;bL=ag[bK]||{}}bM=ab(this.dynamicOverrides.isRTL,this.overrides.isRTL,bL.isRTL,z.defaults.isRTL);bN=bM?z.rtlDefaults:{};this.dirDefaults=bN;this.localeDefaults=bL;this.options=aV([z.defaults,bN,bL,this.overrides,this.dynamicOverrides]);aT(this.options)},getViewSpec:function(bK){var bL=this.viewSpecCache;return bL[bK]||(bL[bK]=this.buildViewSpec(bK))},getUnitViewSpec:function(bN){var bM;var bL;var bK;if(bx.inArray(bN,n)!=-1){bM=this.header.getViewsWithButtons();bx.each(B.views,function(bO){bM.push(bO)});for(bL=0;bL<bM.length;bL++){bK=this.getViewSpec(bM[bL]);if(bK){if(bK.singleUnit==bN){return bK}}}}},buildViewSpec:function(bM){var bP=this.overrides.views||{};var bO=[];var bU=[];var bK=[];var bN=bM;var bT;var bS;var bR;var bL;var bQ;while(bN){bT=ae[bN];bS=bP[bN];bN=null;if(typeof bT==="function"){bT={"class":bT}}if(bT){bO.unshift(bT);bU.unshift(bT.defaults||{});bR=bR||bT.duration;bN=bN||bT.type}if(bS){bK.unshift(bS);bR=bR||bS.duration;bN=bN||bS.type}}bT=bG(bO);bT.type=bM;if(!bT["class"]){return false}bR=bR||this.dynamicOverrides.duration||this.overrides.duration;if(bR){bL=a8.duration(bR);if(bL.valueOf()){bQ=f(bL,bR);bT.duration=bL;bT.durationUnit=bQ;if(bL.as(bQ)===1){bT.singleUnit=bQ;bK.unshift(bP[bQ]||{})}}}bT.defaults=aV(bU);bT.overrides=aV(bK);this.buildViewSpecOptions(bT);this.buildViewSpecButtonText(bT,bM);return bT},buildViewSpecOptions:function(bK){bK.options=aV([z.defaults,bK.defaults,this.dirDefaults,this.localeDefaults,this.overrides,bK.overrides,this.dynamicOverrides]);aT(bK.options)},buildViewSpecButtonText:function(bL,bM){function bK(bN){var bO=bN.buttonText||{};return bO[bM]||(bL.buttonTextKey?bO[bL.buttonTextKey]:null)||(bL.singleUnit?bO[bL.singleUnit]:null)}bL.buttonTextOverride=bK(this.dynamicOverrides)||bK(this.overrides)||bL.overrides.buttonText;bL.buttonTextDefault=bK(this.localeDefaults)||bK(this.dirDefaults)||bL.defaults.buttonText||bK(z.defaults)||(bL.duration?this.humanizeDuration(bL.duration):null)||bM},instantiateView:function(bK){var bL=this.getViewSpec(bK);return new bL["class"](this,bL)},isValidViewType:function(bK){return Boolean(this.getViewSpec(bK))},pushLoading:function(){if(!(this.loadingLevel++)){this.publiclyTrigger("loading",null,true,this.view)}},popLoading:function(){if(!(--this.loadingLevel)){this.publiclyTrigger("loading",null,false,this.view)}},buildSelectSpan:function(bL,bM){var bN=this.moment(bL).stripZone();var bK;if(bM){bK=this.moment(bM).stripZone()}else{if(bN.hasTime()){bK=bN.clone().add(this.defaultTimedEventDuration)}else{bK=bN.clone().add(this.defaultAllDayEventDuration)}}return{start:bN,end:bK}},initCurrentDate:function(){if(this.options.defaultDate!=null){this.currentDate=this.moment(this.options.defaultDate).stripZone()}else{this.currentDate=this.getNow()}},changeView:function(bL,bK){if(bK){if(bK.start&&bK.end){this.recordOptionOverrides({visibleRange:bK})}else{this.currentDate=this.moment(bK).stripZone()}}this.renderView(bL)},prev:function(){var bK=this.view.buildPrevDateProfile(this.currentDate);if(bK.isValid){this.currentDate=bK.date;this.renderView()}},next:function(){var bK=this.view.buildNextDateProfile(this.currentDate);if(bK.isValid){this.currentDate=bK.date;this.renderView()}},prevYear:function(){this.currentDate.add(-1,"years");this.renderView()},nextYear:function(){this.currentDate.add(1,"years");this.renderView()},today:function(){this.currentDate=this.getNow();this.renderView()},gotoDate:function(bK){this.currentDate=this.moment(bK).stripZone();this.renderView()},incrementDate:function(bK){this.currentDate.add(a8.duration(bK));this.renderView()},getDate:function(){return this.applyTimezone(this.currentDate)},parseRange:function(bM){var bL=null;var bK=null;if(bM.start){bL=this.moment(bM.start).stripZone()}if(bM.end){bK=this.moment(bM.end).stripZone()}if(!bL&&!bK){return null}if(bL&&bK&&bK.isBefore(bL)){return null}return{start:bL,end:bK}}});z.mixin(A);function M(bW,ci){var ck=this;ap.needed();ck.render=b8;ck.destroy=cm;ck.rerenderEvents=bL;ck.select=cn;ck.unselect=bR;ck.zoomTo=cs;ck.getCalendar=cb;ck.getView=b6;ck.option=ce;ck.recordOptionOverrides=b5;ck.publiclyTrigger=bN;ck.dynamicOverrides={};ck.viewSpecCache={};ck.optionHandlers={};ck.overrides=bx.extend({},ci);ck.populateOptionsHash();var b9;ck.bindOptions(["locale","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(cu,cy,cx,cB,cz,cw,cA){if(cA==="iso"){cA="ISO"}b9=Z(S(cu));if(cy){b9._months=cy}if(cx){b9._monthsShort=cx}if(cB){b9._weekdays=cB}if(cz){b9._weekdaysShort=cz}if(cw==null&&cA==="ISO"){cw=1}if(cw!=null){var cv=Z(b9._week);cv.dow=cw;b9._week=cv}if(cA==="ISO"||cA==="local"||typeof cA==="function"){b9._fullCalendar_weekCalc=cA}if(ck.currentDate){b4(ck.currentDate)}});ck.defaultAllDayEventDuration=a8.duration(ck.options.defaultAllDayEventDuration);ck.defaultTimedEventDuration=a8.duration(ck.options.defaultTimedEventDuration);ck.moment=function(){var cu;if(ck.options.timezone==="local"){cu=B.moment.apply(null,arguments);if(cu.hasTime()){cu.local()}}else{if(ck.options.timezone==="UTC"){cu=B.moment.utc.apply(null,arguments)}else{cu=B.moment.parseZone.apply(null,arguments)}}b4(cu);return cu};function b4(cu){cu._locale=b9}ck.localizeMoment=b4;ck.getIsAmbigTimezone=function(){return ck.options.timezone!=="local"&&ck.options.timezone!=="UTC"};ck.applyTimezone=function(cu){if(!cu.hasTime()){return cu.clone()}var cv=ck.moment(cu.toArray());var cx=cu.time()-cv.time();var cw;if(cx){cw=cv.clone().add(cx);if(cu.time()-cw.time()===0){cv=cw}}return cv};ck.getNow=function(){var cu=ck.options.now;if(typeof cu==="function"){cu=cu()}return ck.moment(cu).stripZone()};ck.getEventEnd=function(cu){if(cu.end){return cu.end.clone()}else{return ck.getDefaultEventEnd(cu.allDay,cu.start)}};ck.getDefaultEventEnd=function(cv,cw){var cu=cw.clone();if(cv){cu.stripTime().add(ck.defaultAllDayEventDuration)}else{cu.add(ck.defaultTimedEventDuration)}if(ck.getIsAmbigTimezone()){cu.stripZone()}return cu};ck.humanizeDuration=function(cu){return cu.locale(ck.options.locale).humanize()};aQ.call(ck);var cf=bW[0];var bX;var bO;var bU;var bT;var ct;var bS;var cj={};var bQ;var cr;var cg=0;this.initCurrentDate();function b8(){if(!bT){b3()}else{if(cd()){ca();b1()}}}function b3(){bW.addClass("fc");bW.on("click.fc","a[data-goto]",function(cz){var cA=bx(this);var cy=cA.data("goto");var cw=ck.moment(cy.date);var cv=cy.type;var cx=bS.opt("navLink"+r(cv)+"Click");if(typeof cx==="function"){cx(cw,cz)}else{if(typeof cx==="string"){cv=cx}cs(cw,cv)}});ck.bindOption("theme",function(cv){ct=cv?"ui":"fc";bW.toggleClass("ui-widget",cv);bW.toggleClass("fc-unthemed",!cv)});ck.bindOptions(["isRTL","locale"],function(cv){bW.toggleClass("fc-ltr",!cv);bW.toggleClass("fc-rtl",cv)});bT=bx("<div class='fc-view-container'/>").prependTo(bW);var cu=cl();bX=new bz(cu);bO=ck.header=cu[0];bU=ck.footer=cu[1];ch();cq();b1(ck.options.defaultView);if(ck.options.handleWindowResize){cr=bd(bV,ck.options.windowResizeDelay);bx(window).resize(cr)}}function cm(){if(bS){bS.removeElement()}bX.proxyCall("removeElement");bT.remove();bW.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");bW.off(".fc");if(cr){bx(window).unbind("resize",cr)}ap.unneeded()}function cd(){return bW.is(":visible")}function b1(cu,cw){cg++;var cv=bS&&cu&&bS.type!==cu;if(cv){bM();cc()}if(!bS&&cu){bS=ck.view=cj[cu]||(cj[cu]=ck.instantiateView(cu));bS.setElement(bx("<div class='fc-view fc-"+cu+"-view' />").appendTo(bT));bX.proxyCall("activateButton",cu)}if(bS){if(cd()){if(cw){bS.captureInitialScroll(cw)}bS.setDate(ck.currentDate);ck.currentDate=bS.currentDate;if(cw){bS.releaseScroll()}}}if(cv){co()}cg--}ck.renderView=b1;function cc(){bX.proxyCall("deactivateButton",bS.type);bS.removeElement();bS=ck.view=null}function b7(){cg++;bM();var cu=bS.type;var cv=bS.queryScroll();cc();ca();b1(cu,cv);co();cg--}ck.getSuggestedViewHeight=function(){if(bQ===undefined){ca()}return bQ};ck.isHeightAuto=function(){return ck.options.contentHeight==="auto"||ck.options.height==="auto"};function bY(cu){if(cd()){if(cu){bP()}cg++;bS.updateSize(true);cg--;return true}}function ca(){if(cd()){bP()}}function bP(){var cv=ck.options.contentHeight;var cu=ck.options.height;if(typeof cv==="number"){bQ=cv}else{if(typeof cv==="function"){bQ=cv()}else{if(typeof cu==="number"){bQ=cu-bK()}else{if(typeof cu==="function"){bQ=cu()-bK()}else{if(cu==="parent"){bQ=bW.parent().height()-bK()}else{bQ=Math.round(bT.width()/Math.max(ck.options.aspectRatio,0.5))}}}}}}function bK(){return bX.items.reduce(function(cu,cv){var cw=cv.el?cv.el.outerHeight(true):0;return cu+cw},0)}function bV(cu){if(!cg&&cu.target===window&&bS.renderRange){if(bY(true)){bS.publiclyTrigger("windowResize",cf)}}}function bL(){if(cd()){ck.reportEventChange()}}function cl(){return[new a4(ck,b2()),new a4(ck,cp())]}function b2(){return{extraClasses:"fc-header-toolbar",layout:ck.options.header}}function cp(){return{extraClasses:"fc-footer-toolbar",layout:ck.options.footer}}function ch(){bO.setToolbarOptions(b2());bO.render();if(bO.el){bW.prepend(bO.el)}}function cq(){bU.setToolbarOptions(cp());bU.render();if(bU.el){bW.append(bU.el)}}ck.setToolbarsTitle=function(cu){bX.proxyCall("updateTitle",cu)};ck.updateToolbarButtons=function(){var cw=ck.getNow();var cx=bS.buildDateProfile(cw);var cv=bS.buildPrevDateProfile(ck.currentDate);var cu=bS.buildNextDateProfile(ck.currentDate);bX.proxyCall((cx.isValid&&!w(cw,bS.currentRange))?"enableButton":"disableButton","today");bX.proxyCall(cv.isValid?"enableButton":"disableButton","prev");bX.proxyCall(cu.isValid?"enableButton":"disableButton","next")};function cn(cu,cv){bS.select(ck.buildSelectSpan.apply(ck,arguments))}function bR(){if(bS){bS.unselect()}}function cs(cv,cu){var cw;cu=cu||"day";cw=ck.getViewSpec(cu)||ck.getUnitViewSpec(cu);ck.currentDate=cv.clone();b1(cw?cw.type:null)}ck.freezeContentHeight=bM;ck.thawContentHeight=co;var bZ=0;function bM(){if(!(bZ++)){bT.css({width:"100%",height:bT.height(),overflow:"hidden"})}}function co(){if(!(--bZ)){bT.css({width:"",height:"",overflow:""})}}function cb(){return ck}function b6(){return bS}function ce(cu,cw){var cv;if(typeof cu==="string"){if(cw===undefined){return ck.options[cu]}else{cv={};cv[cu]=cw;b0(cv)}}else{if(typeof cu==="object"){b0(cu)}}}function b0(cw){var cu=0;var cv;b5(cw);for(cv in cw){cu++}if(cu===1){if(cv==="height"||cv==="contentHeight"||cv==="aspectRatio"){bY(true);return}else{if(cv==="defaultDate"){return}else{if(cv==="businessHours"){if(bS){bS.unrenderBusinessHours();bS.renderBusinessHours()}return}else{if(cv==="timezone"){ck.rezoneArrayEventSources();ck.refetchEvents();return}}}}}ch();cq();cj={};b7()}function b5(cv){var cu;for(cu in cv){ck.dynamicOverrides[cu]=cv[cu]}ck.viewSpecCache={};ck.populateOptionsHash();for(cu in cv){ck.triggerOptionHandlers(cu)}}function bN(cv,cw){var cu=Array.prototype.slice.call(arguments,2);cw=cw||cf;this.triggerWith(cv,cw,cu);if(ck.options[cv]){return ck.options[cv].apply(cw,cu)}}ck.initialize()}z.mixin({optionHandlers:null,bindOption:function(bK,bL){this.bindOptions([bK],bL)},bindOptions:function(bK,bN){var bL={func:bN,names:bK};var bM;for(bM=0;bM<bK.length;bM++){this.registerOptionHandlerObj(bK[bM],bL)}this.triggerOptionHandlerObj(bL)},registerOptionHandlerObj:function(bL,bK){(this.optionHandlers[bL]||(this.optionHandlers[bL]=[])).push(bK)},triggerOptionHandlers:function(bL){var bM=this.optionHandlers[bL]||[];var bK;for(bK=0;bK<bM.length;bK++){this.triggerOptionHandlerObj(bM[bK])}},triggerOptionHandlerObj:function(bM){var bL=bM.names;var bK=[];var bN;for(bN=0;bN<bL.length;bN++){bK.push(this.options[bL[bN]])}bM.func.apply(this,bK)}});z.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:true,lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,isRTL:false,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:false,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:0.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventOrder:"title",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:100,longPressDelay:1000};z.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};z.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var ag=B.locales={};B.datepickerLocale=function(bM,bL,bN){var bK=ag[bM]||(ag[bM]={});bK.isRTL=bN.isRTL;bK.weekNumberTitle=bN.weekHeader;bx.each(aN,function(bO,bP){bK[bO]=bP(bN)});if(bx.datepicker){bx.datepicker.regional[bL]=bx.datepicker.regional[bM]=bN;bx.datepicker.regional.en=bx.datepicker.regional[""];bx.datepicker.setDefaults(bN)}};B.locale=function(bL,bN){var bK;var bM;bK=ag[bL]||(ag[bL]={});if(bN){bK=ag[bL]=aV([bK,bN])}bM=S(bL);bx.each(bb,function(bO,bP){if(bK[bO]==null){bK[bO]=bP(bM,bK)}});z.defaults.locale=bL};var aN={buttonText:function(bK){return{prev:aK(bK.prevText),next:aK(bK.nextText),today:aK(bK.currentText)}},monthYearFormat:function(bK){return bK.showMonthAfterYear?"YYYY["+bK.yearSuffix+"] MMMM":"MMMM YYYY["+bK.yearSuffix+"]"}};var bb={dayOfMonthFormat:function(bL,bK){var bM=bL.longDateFormat("l");bM=bM.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(bK.isRTL){bM+=" ddd"}else{bM="ddd "+bM}return bM},mediumTimeFormat:function(bK){return bK.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(bK){return bK.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(bK){return bK.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(bK){return bK.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(bK){return bK.longDateFormat("LT").replace(/\s*a$/i,"")}};var bh={smallDayDateFormat:function(bK){return bK.isRTL?"D dd":"dd D"},weekFormat:function(bK){return bK.isRTL?"w[ "+bK.weekNumberTitle+"]":"["+bK.weekNumberTitle+" ]w"},smallWeekFormat:function(bK){return bK.isRTL?"w["+bK.weekNumberTitle+"]":"["+bK.weekNumberTitle+"]w"}};function aT(bK){bx.each(bh,function(bL,bM){if(bK[bL]==null){bK[bL]=bM(bK)}})}function S(bK){return a8.localeData(bK)||a8.localeData("en")}B.locale("en",z.englishDefaults);B.sourceNormalizers=[];B.sourceFetchers=[];var K={dataType:"json",cache:false};var a3=1;function aQ(){var cl=this;cl.requestEvents=b3;cl.reportEventChange=cr;cl.isFetchNeeded=bL;cl.fetchEvents=cu;cl.fetchEventSources=ck;cl.refetchEvents=bY;cl.refetchEventSources=cn;cl.getEventSources=b0;cl.getEventSourceById=cp;cl.addEventSource=bW;cl.removeEventSource=bQ;cl.removeEventSources=b6;cl.updateEvent=cf;cl.updateEvents=b7;cl.renderEvent=b5;cl.renderEvents=bP;cl.removeEvents=cs;cl.clientEvents=bX;cl.mutateEvent=bM;cl.normalizeEventDates=cc;cl.normalizeEventTimes=bV;var bS={events:[]};var cg=[bS];var bZ,b4;var b8=0;var b2=[];var ct;bx.each((cl.options.events?[cl.options.events]:[]).concat(cl.options.eventSources||[]),function(cw,cy){var cx=b9(cy);if(cx){cg.push(cx)}});function b3(cx,cw){if(!cl.options.lazyFetching||bL(cx,cw)){return cu(cx,cw)}else{return bt.resolve(ct)}}function cr(){ct=cj(b2);cl.trigger("eventsReset",ct)}function cj(cy){var cw=[];var cx,cz;for(cx=0;cx<cy.length;cx++){cz=cy[cx];if(cz.start.clone().stripZone()<b4&&cl.getEventEnd(cz).stripZone()>bZ){cw.push(cz)}}return cw}cl.getEventCache=function(){return b2};cl.getPrunedEventCache=function(){return ct};function bL(cx,cw){return !bZ||cx<bZ||cw>b4}function cu(cx,cw){bZ=cx;b4=cw;return bY()}function bY(){return ck(cg,"reset")}function cn(cw){return ck(cq(cw))}function ck(cz,cy){var cw,cx;if(cy==="reset"){b2=[]}else{if(cy!=="add"){b2=bO(b2,cz)}}for(cw=0;cw<cz.length;cw++){cx=cz[cw];if(cx._status!=="pending"){b8++}cx._fetchId=(cx._fetchId||0)+1;cx._status="pending"}for(cw=0;cw<cz.length;cw++){cx=cz[cw];co(cx,cx._fetchId)}if(b8){return new bt(function(cA){cl.one("eventsReceived",cA)})}else{return bt.resolve(ct)}}function co(cw,cx){bU(cw,function(cC){var cB=bx.isArray(cw.events);var cA,cz;var cy;if(cx===cw._fetchId&&cw._status!=="rejected"){cw._status="resolved";if(cC){for(cA=0;cA<cC.length;cA++){cz=cC[cA];if(cB){cy=cz}else{cy=bR(cz,cw)}if(cy){b2.push.apply(b2,cv(cy))}}}bK()}})}function cm(cx){var cw=cx._status==="pending";cx._status="rejected";if(cw){bK()}}function bK(){b8--;if(!b8){cr(b2);cl.trigger("eventsReceived",ct)}}function bU(cw,cH){var cB;var cF=B.sourceFetchers;var cD;for(cB=0;cB<cF.length;cB++){cD=cF[cB].call(cl,cw,bZ.clone(),b4.clone(),cl.options.timezone,cH);if(cD===true){return}else{if(typeof cD=="object"){bU(cD,cH);return}}}var cJ=cw.events;if(cJ){if(bx.isFunction(cJ)){cl.pushLoading();cJ.call(cl,bZ.clone(),b4.clone(),cl.options.timezone,function(cL){cH(cL);cl.popLoading()})}else{if(bx.isArray(cJ)){cH(cJ)}else{cH()}}}else{var cx=cw.url;if(cx){var cI=cw.success;var cE=cw.error;var cy=cw.complete;var cK;if(bx.isFunction(cw.data)){cK=cw.data()}else{cK=cw.data}var cA=bx.extend({},cK||{});var cC=ab(cw.startParam,cl.options.startParam);var cz=ab(cw.endParam,cl.options.endParam);var cG=ab(cw.timezoneParam,cl.options.timezoneParam);if(cC){cA[cC]=bZ.format()}if(cz){cA[cz]=b4.format()}if(cl.options.timezone&&cl.options.timezone!="local"){cA[cG]=cl.options.timezone}cl.pushLoading();bx.ajax(bx.extend({},K,cw,{data:cA,success:function(cM){cM=cM||[];var cL=C(cI,this,arguments);if(bx.isArray(cL)){cM=cL}cH(cM)},error:function(){C(cE,this,arguments);cH()},complete:function(){C(cy,this,arguments);cl.popLoading()}}))}else{cH()}}}function bW(cx){var cw=b9(cx);if(cw){cg.push(cw);ck([cw],"add")}}function b9(cz){var cx=B.sourceNormalizers;var cy;var cw;if(bx.isFunction(cz)||bx.isArray(cz)){cy={events:cz}}else{if(typeof cz==="string"){cy={url:cz}}else{if(typeof cz==="object"){cy=bx.extend({},cz)}}}if(cy){if(cy.className){if(typeof cy.className==="string"){cy.className=cy.className.split(/\s+/)}}else{cy.className=[]}if(bx.isArray(cy.events)){cy.origArray=cy.events;cy.events=bx.map(cy.events,function(cA){return bR(cA,cy)})}for(cw=0;cw<cx.length;cw++){cx[cw].call(cl,cy)}return cy}}function bQ(cw){bT(ca(cw))}function b6(cw){if(cw==null){bT(cg,true)}else{bT(cq(cw))}}function bT(cx,cw){var cy;for(cy=0;cy<cx.length;cy++){cm(cx[cy])}if(cw){cg=[];b2=[]}else{cg=bx.grep(cg,function(cz){for(cy=0;cy<cx.length;cy++){if(cz===cx[cy]){return false}}return true});b2=bO(b2,cx)}cr()}function b0(){return cg.slice(1)}function cp(cw){return bx.grep(cg,function(cx){return cx.id&&cx.id===cw})[0]}function cq(cx){if(!cx){cx=[]}else{if(!bx.isArray(cx)){cx=[cx]}}var cw=[];var cy;for(cy=0;cy<cx.length;cy++){cw.push.apply(cw,ca(cx[cy]))}return cw}function ca(cy){var cw,cx;for(cw=0;cw<cg.length;cw++){cx=cg[cw];if(cx===cy){return[cx]}}cx=cp(cy);if(cx){return[cx]}return bx.grep(cg,function(cz){return ce(cy,cz)})}function ce(cx,cw){return cx&&cw&&b1(cx)==b1(cw)}function b1(cw){return((typeof cw==="object")?(cw.origArray||cw.googleCalendarId||cw.url||cw.events):null)||cw}function bO(cw,cx){return bx.grep(cw,function(cz){for(var cy=0;cy<cx.length;cy++){if(cz.source===cx[cy]){return false}}return true})}function cf(cw){b7([cw])}function b7(cx){var cw,cy;for(cw=0;cw<cx.length;cw++){cy=cx[cw];cy.start=cl.moment(cy.start);if(cy.end){cy.end=cl.moment(cy.end)}else{cy.end=null}bM(cy,bN(cy))}cr()}function bN(cx){var cw={};bx.each(cx,function(cy,cz){if(ci(cy)){if(cz!==undefined&&bq(cz)){cw[cy]=cz}}});return cw}function ci(cw){return !/^_|^(id|allDay|start|end)$/.test(cw)}function b5(cx,cw){return bP([cx],cw)}function bP(cD,cw){var cx=[];var cC;var cz;var cA,cy,cB;for(cA=0;cA<cD.length;cA++){cz=bR(cD[cA]);if(cz){cC=cv(cz);for(cy=0;cy<cC.length;cy++){cB=cC[cy];if(!cB.source){if(cw){bS.events.push(cB);cB.source=bS}b2.push(cB)}}cx=cx.concat(cC)}}if(cx.length){cr()}return cx}function cs(cy){var cx;var cw;if(cy==null){cy=function(){return true}}else{if(!bx.isFunction(cy)){cx=cy+"";cy=function(cz){return cz._id==cx}}}b2=bx.grep(b2,cy,true);for(cw=0;cw<cg.length;cw++){if(bx.isArray(cg[cw].events)){cg[cw].events=bx.grep(cg[cw].events,cy,true)}}cr()}function bX(cw){if(bx.isFunction(cw)){return bx.grep(b2,cw)}else{if(cw!=null){cw+="";return bx.grep(b2,function(cx){return cx._id==cw})}}return b2}cl.rezoneArrayEventSources=function(){var cy;var cx;var cw;for(cy=0;cy<cg.length;cy++){cx=cg[cy].events;if(bx.isArray(cx)){for(cw=0;cw<cx.length;cw++){ch(cx[cw])}}}};function ch(cw){cw.start=cl.moment(cw.start);if(cw.end){cw.end=cl.moment(cw.end)}G(cw)}function bR(cx,cA){var cy={};var cB,cw;var cz;if(cl.options.eventDataTransform){cx=cl.options.eventDataTransform(cx)}if(cA&&cA.eventDataTransform){cx=cA.eventDataTransform(cx)}bx.extend(cy,cx);if(cA){cy.source=cA}cy._id=cx._id||(cx.id===undefined?"_fc"+a3++:cx.id+"");if(cx.className){if(typeof cx.className=="string"){cy.className=cx.className.split(/\s+/)}else{cy.className=cx.className}}else{cy.className=[]}cB=cx.start||cx.date;cw=cx.end;if(aj(cB)){cB=a8.duration(cB)}if(aj(cw)){cw=a8.duration(cw)}if(cx.dow||a8.isDuration(cB)||a8.isDuration(cw)){cy.start=cB?a8.duration(cB):null;cy.end=cw?a8.duration(cw):null;cy._recurring=true}else{if(cB){cB=cl.moment(cB);if(!cB.isValid()){return false}}if(cw){cw=cl.moment(cw);if(!cw.isValid()){cw=null}}cz=cx.allDay;if(cz===undefined){cz=ab(cA?cA.allDayDefault:undefined,cl.options.allDayDefault)}cb(cB,cw,cz,cy)}cl.normalizeEvent(cy);return cy}cl.buildEventFromInput=bR;function cb(cz,cw,cy,cx){cx.start=cz;cx.end=cw;cx.allDay=cy;cc(cx);G(cx)}function cc(cw){bV(cw);if(cw.end&&!cw.end.isAfter(cw.start)){cw.end=null}if(!cw.end){if(cl.options.forceEventDuration){cw.end=cl.getDefaultEventEnd(cw.allDay,cw.start)}else{cw.end=null}}}function bV(cw){if(cw.allDay==null){cw.allDay=!(cw.start.hasTime()||(cw.end&&cw.end.hasTime()))}if(cw.allDay){cw.start.stripTime();if(cw.end){cw.end.stripTime()}}else{if(!cw.start.hasTime()){cw.start=cl.applyTimezone(cw.start.time(0))}if(cw.end&&!cw.end.hasTime()){cw.end=cl.applyTimezone(cw.end.time(0))}}}function cv(cD,cG,cz){var cI=[];var cF;var cH;var cC;var cA;var cy,cE;var cx,cB;var cw;cG=cG||bZ;cz=cz||b4;if(cD){if(cD._recurring){if((cH=cD.dow)){cF={};for(cC=0;cC<cH.length;cC++){cF[cH[cC]]=true}}cA=cG.clone().stripTime();while(cA.isBefore(cz)){if(!cF||cF[cA.day()]){cy=cD.start;cE=cD.end;cx=cA.clone();cB=null;if(cy){cx=cx.time(cy)}if(cE){cB=cA.clone().time(cE)}cw=bx.extend({},cD);cb(cx,cB,!cy&&!cE,cw);cI.push(cw)}cA.add(1,"days")}}else{cI.push(cD)}}return cI}cl.expandEvent=cv;function bM(cx,cG,cy){var cB={};var cF;var cw;var cz;var cC;var cE;var cA;function cD(cH,cI){if(cy){return e(cH,cI,cy)}else{if(cG.allDay){return ak(cH,cI)}else{return h(cH,cI)}}}cG=cG||{};if(!cG.start){cG.start=cx.start.clone()}if(cG.end===undefined){cG.end=cx.end?cx.end.clone():null}if(cG.allDay==null){cG.allDay=cx.allDay}cc(cG);cF={start:cx._start.clone(),end:cx._end?cx._end.clone():cl.getDefaultEventEnd(cx._allDay,cx._start),allDay:cG.allDay};cc(cF);cw=cx._end!==null&&cG.end===null;cz=cD(cG.start,cF.start);if(cG.end){cC=cD(cG.end,cF.end);cE=cC.subtract(cz)}else{cE=null}bx.each(cG,function(cH,cI){if(ci(cH)){if(cI!==undefined){cB[cH]=cI}}});cA=cd(bX(cx._id),cw,cG.allDay,cz,cE,cB);return{dateDelta:cz,durationDelta:cE,undo:cA}}function cd(cA,cD,cC,cB,cy,cz){var cx=cl.getIsAmbigTimezone();var cw=[];if(cB&&!cB.valueOf()){cB=null}if(cy&&!cy.valueOf()){cy=null}bx.each(cA,function(cF,cH){var cE;var cG;cE={start:cH.start.clone(),end:cH.end?cH.end.clone():null,allDay:cH.allDay};bx.each(cz,function(cI){cE[cI]=cH[cI]});cG={start:cH._start,end:cH._end,allDay:cC};cc(cG);if(cD){cG.end=null}else{if(cy&&!cG.end){cG.end=cl.getDefaultEventEnd(cG.allDay,cG.start)}}if(cB){cG.start.add(cB);if(cG.end){cG.end.add(cB)}}if(cy){cG.end.add(cy)}if(cx&&!cG.allDay&&(cB||cy)){cG.start.stripZone();if(cG.end){cG.end.stripZone()}}bx.extend(cH,cz,cG);G(cH);cw.push(function(){bx.extend(cH,cE);G(cH)})});return function(){for(var cE=0;cE<cw.length;cE++){cw[cE]()}}}}z.prototype.mutateSeg=function(bK,bL){return this.mutateEvent(bK.event,bL)};z.prototype.normalizeEvent=function(bK){};z.prototype.spanContainsSpan=function(bM,bN){var bL=bM.start.clone().stripZone();var bK=this.getEventEnd(bM).stripZone();return bN.start>=bL&&bN.end<=bK};z.prototype.getPeerEvents=function(bO,bP){var bL=this.getEventCache();var bK=[];var bN,bM;for(bN=0;bN<bL.length;bN++){bM=bL[bN];if(!bP||bP._id!==bM._id){bK.push(bM)}}return bK};function G(bK){bK._allDay=bK.allDay;bK._start=bK.start.clone();bK._end=bK.end?bK.end.clone():null}z.prototype.isEventSpanAllowed=function(bL,bM){var bN=bM.source||{};var bO=ab(bM.constraint,bN.constraint,this.options.eventConstraint);var bK=ab(bM.overlap,bN.overlap,this.options.eventOverlap);return this.isSpanAllowed(bL,bO,bK,bM)&&(!this.options.eventAllow||this.options.eventAllow(bL,bM)!==false)};z.prototype.isExternalSpanAllowed=function(bL,bO,bN){var bK;var bM;if(bN){bK=bx.extend({},bN,bO);bM=this.expandEvent(this.buildEventFromInput(bK))[0]}if(bM){return this.isEventSpanAllowed(bL,bM)}else{return this.isSelectionSpanAllowed(bL)}};z.prototype.isSelectionSpanAllowed=function(bK){return this.isSpanAllowed(bK,this.options.selectConstraint,this.options.selectOverlap)&&(!this.options.selectAllow||this.options.selectAllow(bK)!==false)};z.prototype.isSpanAllowed=function(bT,bM,bR,bL){var bK;var bN;var bP;var bO,bS;var bQ;if(bM!=null){bK=this.constraintToEvents(bM);if(bK){bN=false;for(bO=0;bO<bK.length;bO++){if(this.spanContainsSpan(bK[bO],bT)){bN=true;break}}if(!bN){return false}}}bP=this.getPeerEvents(bT,bL);for(bO=0;bO<bP.length;bO++){bS=bP[bO];if(this.eventIntersectsRange(bS,bT)){if(bR===false){return false}else{if(typeof bR==="function"&&!bR(bS,bL)){return false}}if(bL){bQ=ab(bS.overlap,(bS.source||{}).overlap);if(bQ===false){return false}if(typeof bQ==="function"&&!bQ(bL,bS)){return false}}}}return true};z.prototype.constraintToEvents=function(bK){if(bK==="businessHours"){return this.getCurrentBusinessHourEvents()}if(typeof bK==="object"){if(bK.start!=null){return this.expandEvent(this.buildEventFromInput(bK))}else{return null}}return this.clientEvents(bK)};z.prototype.eventIntersectsRange=function(bN,bM){var bL=bN.start.clone().stripZone();var bK=this.getEventEnd(bN).stripZone();return bM.start<bK&&bM.end>bL};var bJ={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};z.prototype.getCurrentBusinessHourEvents=function(bK){return this.computeBusinessHourEvents(bK,this.options.businessHours)};z.prototype.computeBusinessHourEvents=function(bK,bL){if(bL===true){return this.expandBusinessHourEvents(bK,[{}])}else{if(bx.isPlainObject(bL)){return this.expandBusinessHourEvents(bK,[bL])}else{if(bx.isArray(bL)){return this.expandBusinessHourEvents(bK,bL,true)}else{return[]}}}};z.prototype.expandBusinessHourEvents=function(bK,bM,bQ){var bL=this.getView();var bP=[];var bO,bN;for(bO=0;bO<bM.length;bO++){bN=bM[bO];if(bQ&&!bN.dow){continue}bN=bx.extend({},bJ,bN);if(bK){bN.start=null;bN.end=null}bP.push.apply(bP,this.expandEvent(this.buildEventFromInput(bN),bL.activeRange.start,bL.activeRange.end))}return bP};var bu=B.BasicView=aU.extend({scroller:null,dayGridClass:bA,dayGrid:null,dayNumbersVisible:false,colWeekNumbersVisible:false,cellWeekNumbersVisible:false,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new ba({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var bK=this.dayGridClass.extend(bi);return new bK(this)},buildRenderRange:function(bK,bL){var bM=aU.prototype.buildRenderRange.apply(this,arguments);if(/^(year|month)$/.test(bL)){bM.start.startOf("week");if(bM.end.weekday()){bM.end.add(1,"week").startOf("week")}}return this.trimHiddenDays(bM)},renderDates:function(){this.dayGrid.breakOnWeeks=/year|month|week/.test(this.currentRangeUnit);this.dayGrid.setRange(this.renderRange);this.dayNumbersVisible=this.dayGrid.rowCnt>1;if(this.opt("weekNumbers")){if(this.opt("weekNumbersWithinDays")){this.cellWeekNumbersVisible=true;this.colWeekNumbersVisible=false}else{this.cellWeekNumbersVisible=false;this.colWeekNumbersVisible=true}}this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var bL=this.scroller.el.addClass("fc-day-grid-container");var bK=bx('<div class="fc-day-grid" />').appendTo(bL);this.el.find(".fc-body > tr > td").append(bL);this.dayGrid.setElement(bK);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var bK=this.opt("eventLimit");return bK&&typeof bK!=="number"},updateWidth:function(){if(this.colWeekNumbersVisible){this.weekNumberWidth=Y(this.el.find(".fc-week-number"))}},setHeight:function(bN,bK){var bL=this.opt("eventLimit");var bO;var bM;this.scroller.clear();L(this.headRowEl);this.dayGrid.removeSegPopover();if(bL&&typeof bL==="number"){this.dayGrid.limitRows(bL)}bO=this.computeScrollerHeight(bN);this.setGridHeight(bO,bK);if(bL&&typeof bL!=="number"){this.dayGrid.limitRows(bL)}if(!bK){this.scroller.setHeight(bO);bM=this.scroller.getScrollbarWidths();if(bM.left||bM.right){aw(this.headRowEl,bM);bO=this.computeScrollerHeight(bN);this.scroller.setHeight(bO)}this.scroller.lockOverflow(bM)}},computeScrollerHeight:function(bK){return bK-t(this.el,this.scroller.el)},setGridHeight:function(bL,bK){if(bK){o(this.dayGrid.rowEls)}else{af(this.dayGrid.rowEls,bL,true)}},computeInitialScroll:function(){return{top:0}},queryScroll:function(){return{top:this.scroller.getScrollTop()}},setScroll:function(bK){this.scroller.setScrollTop(bK.top)},hitsNeeded:function(){this.dayGrid.hitsNeeded()},hitsNotNeeded:function(){this.dayGrid.hitsNotNeeded()},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(bL,bK){return this.dayGrid.queryHit(bL,bK)},getHitSpan:function(bK){return this.dayGrid.getHitSpan(bK)},getHitEl:function(bK){return this.dayGrid.getHitEl(bK)},renderEvents:function(bK){this.dayGrid.renderEvents(bK);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(bL,bK){return this.dayGrid.renderDrag(bL,bK)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(bK){this.dayGrid.renderSelection(bK)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}});var bi={renderHeadIntroHtml:function(){var bK=this.view;if(bK.colWeekNumbersVisible){return'<th class="fc-week-number '+bK.widgetHeaderClass+'" '+bK.weekNumberStyleAttr()+"><span>"+aM(bK.opt("weekNumberTitle"))+"</span></th>"}return""},renderNumberIntroHtml:function(bM){var bL=this.view;var bK=this.getCellDate(bM,0);if(bL.colWeekNumbersVisible){return'<td class="fc-week-number" '+bL.weekNumberStyleAttr()+">"+bL.buildGotoAnchorHtml({date:bK,type:"week",forceOff:this.colCnt===1},bK.format("w"))+"</td>"}return""},renderBgIntroHtml:function(){var bK=this.view;if(bK.colWeekNumbersVisible){return'<td class="fc-week-number '+bK.widgetContentClass+'" '+bK.weekNumberStyleAttr()+"></td>"}return""},renderIntroHtml:function(){var bK=this.view;if(bK.colWeekNumbersVisible){return'<td class="fc-week-number" '+bK.weekNumberStyleAttr()+"></td>"}return""}};var N=B.MonthView=bu.extend({buildRenderRange:function(){var bK=bu.prototype.buildRenderRange.apply(this,arguments);var bL;if(this.isFixedWeeks()){bL=Math.ceil(bK.end.diff(bK.start,"weeks",true));bK.end.add(6-bL,"weeks")}return bK},setGridHeight:function(bL,bK){if(bK){bL*=this.rowCnt/6}af(this.dayGrid.rowEls,bL,!bK)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});ae.basic={"class":bu};ae.basicDay={type:"basic",duration:{days:1}};ae.basicWeek={type:"basic",duration:{weeks:1}};ae.month={"class":N,duration:{months:1},defaults:{fixedWeekCount:true}};var bH=B.AgendaView=aU.extend({scroller:null,timeGridClass:m,timeGrid:null,dayGridClass:bA,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,usesMinMaxTime:true,initialize:function(){this.timeGrid=this.instantiateTimeGrid();if(this.opt("allDaySlot")){this.dayGrid=this.instantiateDayGrid()}this.scroller=new ba({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var bK=this.timeGridClass.extend(bn);return new bK(this)},instantiateDayGrid:function(){var bK=this.dayGridClass.extend(bs);return new bK(this)},renderDates:function(){this.timeGrid.setRange(this.renderRange);if(this.dayGrid){this.dayGrid.setRange(this.renderRange)}this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var bK=this.scroller.el.addClass("fc-time-grid-container");var bL=bx('<div class="fc-time-grid" />').appendTo(bK);this.el.find(".fc-body > tr > td").append(bK);this.timeGrid.setElement(bL);this.timeGrid.renderDates();this.bottomRuleEl=bx('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);if(this.dayGrid){this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates();this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();if(this.dayGrid){this.dayGrid.unrenderDates();this.dayGrid.removeElement()}this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();if(this.dayGrid){this.dayGrid.renderBusinessHours()}},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();if(this.dayGrid){this.dayGrid.unrenderBusinessHours()}},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(bK){this.timeGrid.renderNowIndicator(bK)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(bK){this.timeGrid.updateSize(bK);aU.prototype.updateSize.call(this,bK)},updateWidth:function(){this.axisWidth=Y(this.el.find(".fc-axis"))},setHeight:function(bN,bK){var bL;var bO;var bM;this.bottomRuleEl.hide();this.scroller.clear();L(this.noScrollRowEls);if(this.dayGrid){this.dayGrid.removeSegPopover();bL=this.opt("eventLimit");if(bL&&typeof bL!=="number"){bL=a6}if(bL){this.dayGrid.limitRows(bL)}}if(!bK){bO=this.computeScrollerHeight(bN);this.scroller.setHeight(bO);bM=this.scroller.getScrollbarWidths();if(bM.left||bM.right){aw(this.noScrollRowEls,bM);bO=this.computeScrollerHeight(bN);this.scroller.setHeight(bO)}this.scroller.lockOverflow(bM);if(this.timeGrid.getTotalSlatHeight()<bO){this.bottomRuleEl.show()}}},computeScrollerHeight:function(bK){return bK-t(this.el,this.scroller.el)},computeInitialScroll:function(){var bL=a8.duration(this.opt("scrollTime"));var bK=this.timeGrid.computeTimeTop(bL);bK=Math.ceil(bK);if(bK){bK++}return{top:bK}},queryScroll:function(){return{top:this.scroller.getScrollTop()}},setScroll:function(bK){this.scroller.setScrollTop(bK.top)},hitsNeeded:function(){this.timeGrid.hitsNeeded();if(this.dayGrid){this.dayGrid.hitsNeeded()}},hitsNotNeeded:function(){this.timeGrid.hitsNotNeeded();if(this.dayGrid){this.dayGrid.hitsNotNeeded()}},prepareHits:function(){this.timeGrid.prepareHits();if(this.dayGrid){this.dayGrid.prepareHits()}},releaseHits:function(){this.timeGrid.releaseHits();if(this.dayGrid){this.dayGrid.releaseHits()}},queryHit:function(bM,bL){var bK=this.timeGrid.queryHit(bM,bL);if(!bK&&this.dayGrid){bK=this.dayGrid.queryHit(bM,bL)}return bK},getHitSpan:function(bK){return bK.component.getHitSpan(bK)},getHitEl:function(bK){return bK.component.getHitEl(bK)},renderEvents:function(bL){var bO=[];var bM=[];var bP=[];var bN;var bK;for(bK=0;bK<bL.length;bK++){if(bL[bK].allDay){bO.push(bL[bK])}else{bM.push(bL[bK])}}bN=this.timeGrid.renderEvents(bM);if(this.dayGrid){bP=this.dayGrid.renderEvents(bO)}this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();if(this.dayGrid){this.dayGrid.unrenderEvents()}},renderDrag:function(bL,bK){if(bL.start.hasTime()){return this.timeGrid.renderDrag(bL,bK)}else{if(this.dayGrid){return this.dayGrid.renderDrag(bL,bK)}}},unrenderDrag:function(){this.timeGrid.unrenderDrag();if(this.dayGrid){this.dayGrid.unrenderDrag()}},renderSelection:function(bK){if(bK.start.hasTime()||bK.end.hasTime()){this.timeGrid.renderSelection(bK)}else{if(this.dayGrid){this.dayGrid.renderSelection(bK)}}},unrenderSelection:function(){this.timeGrid.unrenderSelection();if(this.dayGrid){this.dayGrid.unrenderSelection()}}});var bn={renderHeadIntroHtml:function(){var bK=this.view;var bL;if(bK.opt("weekNumbers")){bL=this.start.format(bK.opt("smallWeekFormat"));return'<th class="fc-axis fc-week-number '+bK.widgetHeaderClass+'" '+bK.axisStyleAttr()+">"+bK.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:this.colCnt>1},aM(bL))+"</th>"}else{return'<th class="fc-axis '+bK.widgetHeaderClass+'" '+bK.axisStyleAttr()+"></th>"}},renderBgIntroHtml:function(){var bK=this.view;return'<td class="fc-axis '+bK.widgetContentClass+'" '+bK.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var bK=this.view;return'<td class="fc-axis" '+bK.axisStyleAttr()+"></td>"}};var bs={renderBgIntroHtml:function(){var bK=this.view;return'<td class="fc-axis '+bK.widgetContentClass+'" '+bK.axisStyleAttr()+"><span>"+bK.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){var bK=this.view;return'<td class="fc-axis" '+bK.axisStyleAttr()+"></td>"}};var a6=5;var a2=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];ae.agenda={"class":bH,defaults:{allDaySlot:true,slotDuration:"00:30:00",slotEventOverlap:true}};ae.agendaDay={type:"agenda",duration:{days:1}};ae.agendaWeek={type:"agenda",duration:{weeks:1}};var x=aU.extend({grid:null,scroller:null,initialize:function(){this.grid=new d(this);this.scroller=new ba({overflowX:"hidden",overflowY:"auto"})},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass);this.scroller.render();this.scroller.el.appendTo(this.el);this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(bL,bK){this.scroller.setHeight(this.computeScrollerHeight(bL))},computeScrollerHeight:function(bK){return bK-t(this.el,this.scroller.el)},renderDates:function(){this.grid.setRange(this.renderRange)},renderEvents:function(bK){this.grid.renderEvents(bK)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(bK){return false},isEventDraggable:function(bK){return false}});var d=aI.extend({segSelector:".fc-list-item",hasDayInteractions:false,spanToSegs:function(bP){var bN=this.view;var bM=bN.renderRange.start.clone().time(0);var bO=0;var bL;var bK=[];while(bM<bN.renderRange.end){bL=g(bP,{start:bM,end:bM.clone().add(1,"day")});if(bL){bL.dayIndex=bO;bK.push(bL)}bM.add(1,"day");bO++;if(bL&&!bL.isEnd&&bP.end.hasTime()&&bP.end<bM.clone().add(this.view.nextDayThreshold)){bL.end=bP.end.clone();bL.isEnd=true;break}}return bK},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(bK,bM){var bL;aI.prototype.handleSegClick.apply(this,arguments);if(!bx(bM.target).closest("a[href]").length){bL=bK.event.url;if(bL&&!bM.isDefaultPrevented()){window.location.href=bL}}},renderFgSegs:function(bK){bK=this.renderFgSegEls(bK);if(!bK.length){this.renderEmptyMessage()}else{this.renderSegList(bK)}return bK},renderEmptyMessage:function(){this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+aM(this.view.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(bL){var bP=this.groupSegsByDay(bL);var bO;var bQ;var bN;var bM=bx('<table class="fc-list-table"><tbody/></table>');var bK=bM.find("tbody");for(bO=0;bO<bP.length;bO++){bQ=bP[bO];if(bQ){bK.append(this.dayHeaderHtml(this.view.renderRange.start.clone().add(bO,"days")));this.sortEventSegs(bQ);for(bN=0;bN<bQ.length;bN++){bK.append(bQ[bN].el)}}}this.el.empty().append(bM)},groupSegsByDay:function(bL){var bN=[];var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];(bN[bK.dayIndex]||(bN[bK.dayIndex]=[])).push(bK)}return bN},dayHeaderHtml:function(bK){var bL=this.view;var bM=bL.opt("listDayFormat");var bN=bL.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+bK.format("YYYY-MM-DD")+'"><td class="'+bL.widgetHeaderClass+'" colspan="3">'+(bM?bL.buildGotoAnchorHtml(bK,{"class":"fc-list-heading-main"},aM(bK.format(bM))):"")+(bN?bL.buildGotoAnchorHtml(bK,{"class":"fc-list-heading-alt"},aM(bK.format(bN))):"")+"</td></tr>"},fgSegHtml:function(bL){var bK=this.view;var bN=["fc-list-item"].concat(this.getSegCustomClasses(bL));var bQ=this.getSegBackgroundColor(bL);var bP=bL.event;var bM=bP.url;var bO;if(bP.allDay){bO=bK.getAllDayHtml()}else{if(bK.isMultiDayEvent(bP)){if(bL.isStart||bL.isEnd){bO=aM(this.getEventTimeText(bL))}else{bO=bK.getAllDayHtml()}}else{bO=aM(this.getEventTimeText(bP))}}if(bM){bN.push("fc-has-url")}return'<tr class="'+bN.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+bK.widgetContentClass+'">'+(bO||"")+"</td>":"")+'<td class="fc-list-item-marker '+bK.widgetContentClass+'"><span class="fc-event-dot"'+(bQ?' style="background-color:'+bQ+'"':"")+'></span></td><td class="fc-list-item-title '+bK.widgetContentClass+'"><a'+(bM?' href="'+aM(bM)+'"':"")+">"+aM(bL.event.title||"")+"</a></td></tr>"}});ae.list={"class":x,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}};ae.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}};ae.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}};ae.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}};ae.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}};return B});

 
